
<!DOCTYPE html>







<html data-bs-theme="auto" lang="en">
    <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>
            
                draft-ietf-idr-segment-routing-te-policy-20
            
        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://static.ietf.org/fonts/inter/import.css" rel="stylesheet">
        <link href="https://static.ietf.org/fonts/noto-sans-mono/import.css" rel="stylesheet">
        
            <link rel="stylesheet" href="https://static.ietf.org/dt/12.35.0/ietf/css/document_html_referenced.css">
            
            <script type="module" crossorigin="" src="https://static.ietf.org/dt/12.35.0/assets/embedded-86412faf.js"></script>
<link href="https://static.ietf.org/dt/12.35.0/assets/create-pinia-singleton-2adb64ba.js" type="text/javascript" crossorigin="anonymous" rel="modulepreload" as="script" />
<link href="https://static.ietf.org/dt/12.35.0/assets/Scrollbar-1895147a.js" type="text/javascript" crossorigin="anonymous" rel="modulepreload" as="script" />
            <script src="https://static.ietf.org/dt/12.35.0/ietf/js/document_html.js"></script>
            <script src="https://static.ietf.org/dt/12.35.0/ietf/js/theme.js"></script>
        
        <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-idr-segment-routing-te-policy/">
        <meta name="description"
            
                content="Advertising Segment Routing Policies in BGP (Internet-Draft, 2023)"
            >
        

<link rel="apple-touch-icon"
      sizes="180x180"
      href="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor-180.png">
<link rel="icon"
      sizes="32x32"
      href="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor-32.png">
<link rel="icon"
      sizes="16x16"
      href="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor-16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon"
      href="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor-mask.svg"
      color="#ffffff">
<meta name="msapplication-TileColor"
      content="#ffffff">
<meta name="theme-color"
      content="#ffffff">
        




<meta property="og:title" content="Advertising Segment Routing Policies in BGP">
<meta property="og:url" content="https://datatracker.ietf.org/doc/html/draft-ietf-idr-segment-routing-te-policy-20">
<link rel="canonical" href="https://datatracker.ietf.org/doc/html/draft-ietf-idr-segment-routing-te-policy-20">
<meta property="og:site_name" content="IETF Datatracker">
<meta property="og:description" content="This document introduces a BGP SAFI with two NLRIs to advertise a candidate path of a Segment Routing (SR) Policy. An SR Policy is an ordered list of segments (i.e., instructions) that represent a source-routed policy. An SR Policy consists of one or more candidate paths, each consisting of one or more segment lists. A headend may be provisioned with candidate paths for an SR Policy via several different mechanisms, e.g., CLI, NETCONF, PCEP, or BGP. This document specifies how BGP may be used to distribute SR Policy candidate paths. It defines sub-TLVs for the Tunnel Encapsulation Attribute for signaling information about these candidate paths. This documents updates RFC9012 with extensions to the Color Extended Community to support additional steering modes over SR Policy.">
<meta property="og:type" content="article">

<meta property="og:image" content="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-card.png">
<meta property="og:image:alt" content="Logo of the IETF">
<meta property="article:section" content="IETF - Internet Engineering Task Force">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">

<meta property="article:author" content="Stefano Previdi">
<meta property="article:author" content="Clarence Filsfils">
<meta property="article:author" content="Ketan Talaulikar">
<meta property="article:author" content="Paul Mattes">
<meta property="article:author" content="Dhanendra Jain">
<meta property="article:author" content="Steven Lin">



        
        <style>
            
            .diff-form .select2-selection__rendered {
                direction: rtl;
                text-align: left;
            }
        </style>
    </head>
    <body>
        
        <noscript><iframe class="status" title="Site status" src="/status/latest"></iframe></noscript>
<div class="vue-embed" data-component="Status"></div>
        <div class="btn-toolbar sidebar-toolbar position-fixed top-0 end-0 m-2 m-lg-3 d-print-none">
            <div class="dropdown">
                <button class="btn btn-outline-secondary btn-sm me-1 dropdown-toggle d-flex align-items-center"
                    id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown"
                    aria-label="Toggle theme">
                        <i class="theme-icon-active bi bi-circle-half"></i>
                </button>

                <ul class="dropdown-menu" aria-labelledby="bd-theme">
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center"
                            data-bs-theme-value="light" aria-pressed="false">
                            <i class="me-2 opacity-50 theme-icon bi bi-sun-fill"></i>
                            Light<i class="bi bi-check2 ms-auto d-none"></i>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center"
                            data-bs-theme-value="dark" aria-pressed="false">
                            <i class="me-2 opacity-50 theme-icon bi bi-moon-stars-fill"></i>
                            Dark<i class="bi bi-check2 ms-auto d-none"></i>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center active"
                            data-bs-theme-value="auto" aria-pressed="true">
                            <i class="me-2 opacity-50 theme-icon bi bi-circle-half"></i>
                            Auto<i class="bi bi-check2 ms-auto d-none"></i>
                        </button>
                    </li>
                </ul>
            </div>
            <button class="btn btn-outline-secondary btn-sm sidebar-toggle"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#sidebar"
                    aria-expanded="true"
                    aria-controls="sidebar"
                    aria-label="Toggle metadata sidebar"
                    title="Toggle metadata sidebar">
            <i class="bi bi-arrow-bar-left sidebar-shown"></i>
            <i class="bi bi-arrow-bar-right sidebar-collapsed"></i>
            </button>
        </div>
        <nav class="navbar bg-light-subtle px-1 fixed-top d-print-none d-md-none">
            <a class="nav-link ps-1"
               href="/doc/draft-ietf-idr-segment-routing-te-policy/">
                 
                    draft-ietf-idr-segment-routing-te-policy-20
                
                <br class="d-sm-none">

                <span class="ms-sm-3 badge rounded-pill badge-draft">
                    
                        Internet-Draft
                    
                </span>
            </a>
            <button class="navbar-toggler p-1"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#docinfo-collapse"
                    aria-controls="docinfo-collapse"
                    aria-expanded="false"
                    aria-label="Show document information">
                <span class="navbar-toggler-icon small"></span>
            </button>
            <div class="navbar-nav navbar-nav-scroll overscroll-none collapse pt-1" id="docinfo-collapse">
                <div class="bg-light-subtle p-0">
                    <table class="table table-sm table-borderless small">
                        <tbody class="meta align-top">
                            <tr>
                                <th scope="row"></th>
                                <th scope="row">Title</th>
                                <td class="edit"></td>
                                <td>Advertising Segment Routing Policies in BGP</td>
                            </tr>
                        </tbody>
                        







<tbody class="meta align-top ">
    <tr>
        <th scope="row">Document</th>
        <th scope="row">Document type</th>
        <td class="edit"></td>
        <td>
            







    <div>This is an older version of an Internet-Draft whose latest revision state is "Replaced".</div>

            
            
            
                




    

            
        </td>
    </tr>
    
        <tr>
            <td></td>
            <th scope="row">Select version</th>
            <td class="edit"></td>
            <td>
                



    <ul class="revision-list pagination pagination-sm text-center flex-wrap my-0">
        
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-00"
                        >
                            00
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-01"
                        rel="nofollow">
                            01
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-02"
                        rel="nofollow">
                            02
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-03"
                        rel="nofollow">
                            03
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-04"
                        rel="nofollow">
                            04
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-05"
                        rel="nofollow">
                            05
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-06"
                        rel="nofollow">
                            06
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-07"
                        rel="nofollow">
                            07
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-08"
                        rel="nofollow">
                            08
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-09"
                        rel="nofollow">
                            09
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-10"
                        rel="nofollow">
                            10
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-11"
                        rel="nofollow">
                            11
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-12"
                        rel="nofollow">
                            12
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-13"
                        rel="nofollow">
                            13
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-14"
                        rel="nofollow">
                            14
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-15"
                        rel="nofollow">
                            15
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-16"
                        rel="nofollow">
                            16
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-17"
                        rel="nofollow">
                            17
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-18"
                        rel="nofollow">
                            18
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-19"
                        rel="nofollow">
                            19
                        </a>
                    </li>
                
            
                 
                    <li class="page-item active">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-20"
                        rel="nofollow">
                            20
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-21"
                        rel="nofollow">
                            21
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-22"
                        rel="nofollow">
                            22
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-23"
                        rel="nofollow">
                            23
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-24"
                        rel="nofollow">
                            24
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-25"
                        rel="nofollow">
                            25
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-26"
                        >
                            26
                        </a>
                    </li>
                
            
            
        
    </ul>

            </td>
        </tr>
        
            <tr>
                <td></td>
                <th scope="row">Compare versions</th>
                <td class="edit"></td>
                <td>
                    



<form class="form-horizontal diff-form"
      action="https://author-tools.ietf.org/iddiff"
      method="get"
      target="_blank">

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="From revision"
                    name="url1">
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-26">
                        draft-ietf-idr-segment-routing-te-policy-26
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-25" selected>
                        draft-ietf-idr-segment-routing-te-policy-25
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-24">
                        draft-ietf-idr-segment-routing-te-policy-24
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-23">
                        draft-ietf-idr-segment-routing-te-policy-23
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-22">
                        draft-ietf-idr-segment-routing-te-policy-22
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-21">
                        draft-ietf-idr-segment-routing-te-policy-21
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-20">
                        draft-ietf-idr-segment-routing-te-policy-20
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-19">
                        draft-ietf-idr-segment-routing-te-policy-19
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-18">
                        draft-ietf-idr-segment-routing-te-policy-18
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-17">
                        draft-ietf-idr-segment-routing-te-policy-17
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-16">
                        draft-ietf-idr-segment-routing-te-policy-16
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-15">
                        draft-ietf-idr-segment-routing-te-policy-15
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-14">
                        draft-ietf-idr-segment-routing-te-policy-14
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-13">
                        draft-ietf-idr-segment-routing-te-policy-13
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-12">
                        draft-ietf-idr-segment-routing-te-policy-12
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-11">
                        draft-ietf-idr-segment-routing-te-policy-11
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-10">
                        draft-ietf-idr-segment-routing-te-policy-10
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-09">
                        draft-ietf-idr-segment-routing-te-policy-09
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-08">
                        draft-ietf-idr-segment-routing-te-policy-08
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-07">
                        draft-ietf-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-06">
                        draft-ietf-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-05">
                        draft-ietf-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-04">
                        draft-ietf-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-03">
                        draft-ietf-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-02">
                        draft-ietf-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-01">
                        draft-ietf-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-00">
                        draft-ietf-idr-segment-routing-te-policy-00
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-07">
                        draft-previdi-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-06">
                        draft-previdi-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-05">
                        draft-previdi-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-04">
                        draft-previdi-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-03">
                        draft-previdi-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-02">
                        draft-previdi-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-01">
                        draft-previdi-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-00">
                        draft-previdi-idr-segment-routing-te-policy-00
                        
                    </option>
                
                
            </select>

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="To revision"
                    name="url2">
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-26" selected>
                        draft-ietf-idr-segment-routing-te-policy-26
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-25">
                        draft-ietf-idr-segment-routing-te-policy-25
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-24">
                        draft-ietf-idr-segment-routing-te-policy-24
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-23">
                        draft-ietf-idr-segment-routing-te-policy-23
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-22">
                        draft-ietf-idr-segment-routing-te-policy-22
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-21">
                        draft-ietf-idr-segment-routing-te-policy-21
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-20">
                        draft-ietf-idr-segment-routing-te-policy-20
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-19">
                        draft-ietf-idr-segment-routing-te-policy-19
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-18">
                        draft-ietf-idr-segment-routing-te-policy-18
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-17">
                        draft-ietf-idr-segment-routing-te-policy-17
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-16">
                        draft-ietf-idr-segment-routing-te-policy-16
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-15">
                        draft-ietf-idr-segment-routing-te-policy-15
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-14">
                        draft-ietf-idr-segment-routing-te-policy-14
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-13">
                        draft-ietf-idr-segment-routing-te-policy-13
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-12">
                        draft-ietf-idr-segment-routing-te-policy-12
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-11">
                        draft-ietf-idr-segment-routing-te-policy-11
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-10">
                        draft-ietf-idr-segment-routing-te-policy-10
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-09">
                        draft-ietf-idr-segment-routing-te-policy-09
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-08">
                        draft-ietf-idr-segment-routing-te-policy-08
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-07">
                        draft-ietf-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-06">
                        draft-ietf-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-05">
                        draft-ietf-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-04">
                        draft-ietf-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-03">
                        draft-ietf-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-02">
                        draft-ietf-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-01">
                        draft-ietf-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-00">
                        draft-ietf-idr-segment-routing-te-policy-00
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-07">
                        draft-previdi-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-06">
                        draft-previdi-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-05">
                        draft-previdi-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-04">
                        draft-previdi-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-03">
                        draft-previdi-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-02">
                        draft-previdi-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-01">
                        draft-previdi-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-00">
                        draft-previdi-idr-segment-routing-te-policy-00
                        
                    </option>
                
                
            </select>

            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--html"
                    name="difftype">
                Side-by-side
            </button>
            
            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--hwdiff"
                    name="difftype">
                Inline
            </button>

</form>
                </td>
            </tr>
        
    
    <tr>
        <td></td>
        <th scope="row">Authors</th>
        <td class="edit">
            
        </td>
        <td>
            
            
                <span ><a 
           title="Datatracker profile of Stefano Previdi"
            href="/person/stefano.previdi@gmail.com" >Stefano Previdi</a> <a 
               href="mailto:stefano.previdi%40gmail.com"
               aria-label="Compose email to stefano.previdi@gmail.com"
               title="Compose email to stefano.previdi@gmail.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Clarence Filsfils"
            href="/person/cfilsfil@cisco.com" >Clarence Filsfils</a> <a 
               href="mailto:cfilsfil%40cisco.com"
               aria-label="Compose email to cfilsfil@cisco.com"
               title="Compose email to cfilsfil@cisco.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Ketan Talaulikar"
            href="/person/ketant.ietf@gmail.com" >Ketan Talaulikar</a> <a 
               href="mailto:ketant.ietf%40gmail.com"
               aria-label="Compose email to ketant.ietf@gmail.com"
               title="Compose email to ketant.ietf@gmail.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Paul Mattes"
            href="/person/pamattes@microsoft.com" >Paul Mattes</a> <a 
               href="mailto:pamattes%40microsoft.com"
               aria-label="Compose email to pamattes@microsoft.com"
               title="Compose email to pamattes@microsoft.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Dhanendra Jain"
            href="/person/dhanendra.ietf@gmail.com" >Dhanendra Jain</a> <a 
               href="mailto:dhanendra.ietf%40gmail.com"
               aria-label="Compose email to dhanendra.ietf@gmail.com"
               title="Compose email to dhanendra.ietf@gmail.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Steven Lin"
            href="/person/stevenlin@google.com" >Steven Lin</a> <a 
               href="mailto:stevenlin%40google.com"
               aria-label="Compose email to stevenlin@google.com"
               title="Compose email to stevenlin@google.com">
                <i class="bi bi-envelope"></i></a></span>
            
            
        </td>
    </tr>
    
    
        
            <tr>
                <td></td>
                <th scope="row">Replaces</th>
                <td class="edit">
                    
                </td>
                <td>
                    
                        
                            <a href="/doc/html/draft-previdi-idr-segment-routing-te-policy" title="Advertising Segment Routing Policies in BGP">draft-previdi-idr-segment-routing-te-policy</a>
                        
                    
                </td>
            </tr>
        
        
            <tr>
                <td></td>
                <th scope="row">
                    Replaced by
                </th>
                <td class="edit">
                </td>
                <td>
                    
                        <a href="/doc/html/draft-ietf-idr-sr-policy-safi" title="Advertising Segment Routing Policies in BGP">draft-ietf-idr-sr-policy-safi</a><br><a href="/doc/html/draft-ietf-idr-bgp-sr-segtypes-ext" title="Segment Routing Segment Types Extensions for BGP SR Policy">draft-ietf-idr-bgp-sr-segtypes-ext</a>
                    
                </td>
            </tr>
        
        
    
    <tr>
        <td></td>
        <th scope="row">
            RFC stream
        </th>
        <td class="edit">
            
        </td>
        <td >
            
                
                
                    
                        



<img alt="IETF Logo"
     class="d-lm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor-white.svg"
        
     
     >

<img alt="IETF Logo"
     class="d-dm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor.svg"
        
     
     >
                    
                
                
            
        </td>
    </tr>
    
    <tr>
        <td></td>
        <th scope="row">
            Other formats
        </th>
        <td class="edit">
        </td>
        <td>
            
                
    <div class="buttonlist">
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="https://www.ietf.org/archive/id/draft-ietf-idr-segment-routing-te-policy-20.txt">
            
                <i class="bi bi-file-text"></i> txt
            
        </a>
        
    
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="/doc/draft-ietf-idr-segment-routing-te-policy/20/bibtex/">
            
                <i class="bi bi-file-ruled"></i> bibtex
            
        </a>
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="/doc/bibxml3/draft-ietf-idr-segment-routing-te-policy-20.xml">
            
                <i class="bi bi-file-code"></i> bibxml
            
        </a>
        
    
</div>

            
        </td>
    </tr>
    
    
        
            <tr>
                <td>
                </td>
                <th scope="row">
                    Additional resources
                </th>
                <td class="edit">
                    
                </td>
                <td>
                    
                        
                        
                            
                                <a href="https://mailarchive.ietf.org/arch/browse/idr/?q=draft-ietf-idr-segment-routing-te-policy">
                                    Mailing list discussion
                                </a>
                            
                        
                    
                </td>
            </tr>
        
    
</tbody>
                        <tr>
                            <th scope="row"></th>
                            <th scope="row"></th>
                            <td class="edit"></td>
                            <td>
                                <a class="btn btn-sm btn-warning mb-3"
                                target="_blank"
                                href="https://github.com/ietf-tools/datatracker/issues/new/choose">
                                    Report a bug
                                    <i class="bi bi-bug"></i>
                                </a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </nav>
        <div class="row g-0">
            <div class="col-md-9 d-flex justify-content-center lh-sm"
                 data-bs-spy="scroll"
                 data-bs-target="#toc-nav"
                 data-bs-smooth-scroll="true"
                 tabindex="0"
                 id="content">
                
                    <div class="rfcmarkup">
                        <br class="noprint">
                        <!-- [html-validate-disable-block attr-quotes, void-style, element-permitted-content, heading-level -- FIXME: rfcmarkup/rfc2html generates HTML with issues] -->
                        <div class="rfcmarkup"><pre>Network Working Group                                         S. Previdi
Internet-Draft                                       Huawei Technologies
Updates: <a href="/doc/html/rfc9012">9012</a> (if approved)                                  C. Filsfils
Intended status: Standards Track                           Cisco Systems
Expires: January 28, 2023                             K. Talaulikar, Ed.
                                                              Arrcus Inc
                                                               P. Mattes
                                                               Microsoft
                                                                 D. Jain
                                                                  S. Lin
                                                                  Google
                                                           July 27, 2022


              <span class="h1">Advertising Segment Routing Policies in BGP</span>
              <span class="h1">draft-ietf-idr-segment-routing-te-policy-20</span>

Abstract

   This document introduces a BGP SAFI with two NLRIs to advertise a
   candidate path of a Segment Routing (SR) Policy.  An SR Policy is an
   ordered list of segments (i.e., instructions) that represent a
   source-routed policy.  An SR Policy consists of one or more candidate
   paths, each consisting of one or more segment lists.  A headend may
   be provisioned with candidate paths for an SR Policy via several
   different mechanisms, e.g., CLI, NETCONF, PCEP, or BGP.  This
   document specifies how BGP may be used to distribute SR Policy
   candidate paths.  It defines sub-TLVs for the Tunnel Encapsulation
   Attribute for signaling information about these candidate paths.

   This documents updates <a href="/doc/html/rfc9012">RFC9012</a> with extensions to the Color Extended
   Community to support additional steering modes over SR Policy.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of <a href="/doc/html/bcp78">BCP 78</a> and <a href="/doc/html/bcp79">BCP 79</a>.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at <a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a>.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as &quot;work in progress.&quot;




<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   This Internet-Draft will expire on January 28, 2023.

Copyright Notice

   Copyright (c) 2022 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-1.1">1.1</a>.  Requirements Language . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-2">2</a>.  SR Policy Encoding  . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-2.1">2.1</a>.  SR Policy SAFI and NLRI . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-2.2">2.2</a>.  SR Policy and Tunnel Encapsulation Attribute  . . . . . .   <a href="#page-8">8</a>
     <a href="#section-2.3">2.3</a>.  Remote Endpoint and Color . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-2.4">2.4</a>.  SR Policy Sub-TLVs  . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
       <a href="#section-2.4.1">2.4.1</a>.  Preference Sub-TLV  . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
       <a href="#section-2.4.2">2.4.2</a>.  Binding SID Sub-TLV . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
       <a href="#section-2.4.3">2.4.3</a>.  SRv6 Binding SID Sub-TLV  . . . . . . . . . . . . . .  <a href="#page-12">12</a>
       <a href="#section-2.4.4">2.4.4</a>.  Segment List Sub-TLV  . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
       <a href="#section-2.4.5">2.4.5</a>.  Explicit NULL Label Policy Sub-TLV  . . . . . . . . .  <a href="#page-30">30</a>
       <a href="#section-2.4.6">2.4.6</a>.  Policy Priority Sub-TLV . . . . . . . . . . . . . . .  <a href="#page-32">32</a>
       <a href="#section-2.4.7">2.4.7</a>.  Policy Candidate Path Name Sub-TLV  . . . . . . . . .  <a href="#page-32">32</a>
       <a href="#section-2.4.8">2.4.8</a>.  Policy Name Sub-TLV . . . . . . . . . . . . . . . . .  <a href="#page-33">33</a>
   <a href="#section-3">3</a>.  Color Extended Community  . . . . . . . . . . . . . . . . . .  <a href="#page-34">34</a>
   <a href="#section-4">4</a>.  SR Policy Operations  . . . . . . . . . . . . . . . . . . . .  <a href="#page-36">36</a>
     <a href="#section-4.1">4.1</a>.  Advertisement of SR Policies  . . . . . . . . . . . . . .  <a href="#page-36">36</a>
     <a href="#section-4.2">4.2</a>.  Reception of an SR Policy NLRI  . . . . . . . . . . . . .  <a href="#page-36">36</a>
       <a href="#section-4.2.1">4.2.1</a>.  Acceptance of an SR Policy NLRI . . . . . . . . . . .  <a href="#page-36">36</a>
       <a href="#section-4.2.2">4.2.2</a>.  Usable SR Policy NLRI . . . . . . . . . . . . . . . .  <a href="#page-37">37</a>
       <a href="#section-4.2.3">4.2.3</a>.  Passing a usable SR Policy NLRI to the SRPM . . . . .  <a href="#page-37">37</a>
       <a href="#section-4.2.4">4.2.4</a>.  Propagation of an SR Policy . . . . . . . . . . . . .  <a href="#page-38">38</a>
   <a href="#section-5">5</a>.  Error Handling and Fault Management . . . . . . . . . . . . .  <a href="#page-38">38</a>
   <a href="#section-6">6</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-39">39</a>
     6.1.  Existing Registry: Subsequent Address Family Identifiers
           (SAFI) Parameters . . . . . . . . . . . . . . . . . . . .  <a href="#page-40">40</a>
     6.2.  Existing Registry: BGP Tunnel Encapsulation Attribute
           Tunnel Types  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-40">40</a>



<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


     6.3.  Existing Registry: BGP Tunnel Encapsulation Attribute
           sub-TLVs  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-41">41</a>
     <a href="#section-6.4">6.4</a>.  Existing Registry: Color Extended Community Flags . . . .  <a href="#page-41">41</a>
     <a href="#section-6.5">6.5</a>.  New Registry: SR Policy Segment List Sub-TLVs . . . . . .  <a href="#page-41">41</a>
     <a href="#section-6.6">6.6</a>.  New Registry: SR Policy Binding SID Flags . . . . . . . .  <a href="#page-42">42</a>
     <a href="#section-6.7">6.7</a>.  New Registry: SR Policy SRv6 Binding SID Flags  . . . . .  <a href="#page-42">42</a>
     <a href="#section-6.8">6.8</a>.  New Registry: SR Policy Segment Flags . . . . . . . . . .  <a href="#page-43">43</a>
     6.9.  New Registry: Color Extended Community Color-Only Types .  43
   <a href="#section-7">7</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-44">44</a>
   <a href="#section-8">8</a>.  Manageability Considerations  . . . . . . . . . . . . . . . .  <a href="#page-44">44</a>
   <a href="#section-9">9</a>.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-45">45</a>
   <a href="#section-10">10</a>. Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-45">45</a>
   <a href="#section-11">11</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-46">46</a>
     <a href="#section-11.1">11.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-46">46</a>
     <a href="#section-11.2">11.2</a>.  Informational References . . . . . . . . . . . . . . . .  <a href="#page-48">48</a>
   Authors&#x27; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-49">49</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   Segment Routing (SR) [<a href="/doc/html/rfc8402" title="&quot;Segment Routing Architecture&quot;">RFC8402</a>] allows a headend node to steer a
   packet flow along a specific path.  Intermediate per-path states are
   eliminated thanks to source routing.

   The headend node is said to steer a flow into an SR Policy [<a href="/doc/html/rfc8402" title="&quot;Segment Routing Architecture&quot;">RFC8402</a>].

   The packets steered into an SR Policy carry an ordered list of
   segments associated with that SR Policy.

   [<a id="ref-RFC9256">RFC9256</a>] further details the concepts of SR Policy and steering into
   an SR Policy.  These apply equally to the SR-MPLS and Segment Routing
   for IPv6 (SRv6) data-plane instantiations of Segment Routing using
   SR-MPLS and SRv6 Segment Identifiers (SIDs) as described in
   [<a href="/doc/html/rfc8402" title="&quot;Segment Routing Architecture&quot;">RFC8402</a>].  [<a href="/doc/html/rfc8660" title="&quot;Segment Routing with the MPLS Data Plane&quot;">RFC8660</a>] describes the representation and processing of
   this ordered list of segments as an MPLS label stack for SR-MPLS.
   While [<a href="/doc/html/rfc8754" title="&quot;IPv6 Segment Routing Header (SRH)&quot;">RFC8754</a>] and [<a href="/doc/html/rfc8986" title="&quot;Segment Routing over IPv6 (SRv6) Network Programming&quot;">RFC8986</a>] describe the same for SRv6 with the use
   of the Segment Routing Header (SRH).

   The SR Policy related functionality described in [<a href="/doc/html/rfc9256" title="&quot;Segment Routing Policy Architecture&quot;">RFC9256</a>] can be
   conceptually viewed as being incorporated in an SR Policy Module
   (SRPM).  Following is a reminder of the high-level functionality of
   SRPM:

   o  Learning multiple candidate paths for an SR Policy via various
      mechanisms (CLI, NETCONF, PCEP, or BGP).

   o  Selection of the best candidate path for an SR Policy.





<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  Associating a Binding SID (BSID) to the selected candidate path of
      an SR Policy.

   o  Installation of the selected candidate path and its BSID in the
      forwarding plane.

   This document specifies the use of BGP to distribute one or more of
   the candidate paths of an SR Policy to the headend of that policy.
   The document describes the functionality provided by BGP and, as
   appropriate, provides references for the functionality which is
   outside the scope of BGP (i.e. resides within SRPM on the headend
   node).

   This document specifies a way of representing SR Policy candidate
   paths in BGP UPDATE messages.  BGP can then be used to propagate the
   SR Policy candidate paths to the headend nodes in a network.  The
   usual BGP rules for BGP propagation and best-path selection are used.
   At the headend of a specific policy, this will result in one or more
   candidate paths being installed into the &quot;BGP table&quot;.  These paths
   are then passed to the SRPM.  The SRPM may compare them to candidate
   paths learned via other mechanisms and will choose one or more paths
   to be installed in the data plane.  BGP itself does not install SR
   Policy candidate paths into the data plane.

   This document introduces a BGP subsequent address family (SAFI) for
   IPv4 and IPv6 address families.  In UPDATE messages of those AFI/
   SAFIs, the NLRI identifies an SR Policy Candidate Path while the
   attributes encode the segment lists and other details of that SR
   Policy Candidate Path.

   While for simplicity we may write that BGP advertises an SR Policy,
   it has to be understood that BGP advertises a candidate path of an SR
   policy and that this SR Policy might have several other candidate
   paths provided via BGP (via an NLRI with a different distinguisher as
   defined in <a href="#section-2.1">Section 2.1</a>), PCEP, NETCONF, or local policy
   configuration.

   Typically, a controller defines the set of policies and advertises
   them to policy headend routers (typically ingress routers).  These
   policy advertisements use the BGP extensions defined in this
   document.  The policy advertisement is, in most but not all cases,
   tailored for a specific policy headend.  In this case, the
   advertisement may be sent on a BGP session to that headend and not
   propagated any further.

   Alternatively, a router (i.e., a BGP egress router) advertises SR
   Policies representing paths to itself.  In this case, it is possible




<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   to send the policy to each headend over a BGP session to that
   headend, without requiring any further propagation of the policy.

   An SR Policy intended only for the receiver will, in most cases, not
   traverse any Route Reflector (RR, [<a href="/doc/html/rfc4456" title="&quot;BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)&quot;">RFC4456</a>]).

   In some situations, it is undesirable for a controller or BGP egress
   router to have a BGP session to each policy headend.  In these
   situations, BGP Route Reflectors may be used to propagate the
   advertisements.  In certain other deployments, it may be necessary
   for the advertisement to propagate through a sequence of one or more
   ASes within an SR Domain (refer to <a href="#section-7">Section 7</a> for the associated
   security considerations).  To make this possible, an attribute needs
   to be attached to the advertisement that enables a BGP speaker to
   determine whether it is intended to be a headend for the advertised
   policy.  This is done by attaching one or more Route Target Extended
   Communities to the advertisement [<a href="/doc/html/rfc4360" title="&quot;BGP Extended Communities Attribute&quot;">RFC4360</a>].

   The BGP extensions for the advertisement of SR Policies include
   following components:

   o  A Subsequent Address Family Identifier (SAFI) whose NLRIs
      identifies an SR Policy candidate path.

   o  A Tunnel Type identifier for SR Policy, and a set of sub-TLVs to
      be inserted into the Tunnel Encapsulation Attribute (as defined in
      [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>]) specifying segment lists of the SR Policy candidate
      path, as well as other information about the SR Policy.

   o  One or more IPv4 address format route target extended community
      ([<a href="/doc/html/rfc4360" title="&quot;BGP Extended Communities Attribute&quot;">RFC4360</a>]) attached to the SR Policy advertisement and that
      indicates the intended headend of such an SR Policy advertisement.

   The Color Extended Community (as defined in [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>]) is used to
   steer traffic into an SR Policy, as described in <a href="/doc/html/rfc9256#section-8.8">section&nbsp;8.8 of
   [RFC9256]</a>.  The <a href="#section-3">Section 3</a> of this document updates [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>] with
   modifications to the format of the Flags field of the Color Extended
   Community by using the two leftmost bits of that field.

<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a>.  Requirements Language</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in <a href="/doc/html/bcp14">BCP</a>
   <a href="/doc/html/bcp14">14</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] [<a href="/doc/html/rfc8174" title="&quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;">RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.





<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  SR Policy Encoding</span>

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a>.  SR Policy SAFI and NLRI</span>

   A SAFI is introduced in this document: the SR Policy SAFI with
   codepoint 73.  The AFI used MUST be IPv4(1) or IPv6(2).

   The SR Policy SAFI uses the NLRI format defined as follows:

   +------------------+
   |  NLRI Length     | 1 octet
   +------------------+
   |  Distinguisher   | 4 octets
   +------------------+
   |  Policy Color    | 4 octets
   +------------------+
   |  Endpoint        | 4 or 16 octets
   +------------------+

   Figure 1: SR Policy SAFI Format

   where:

   o  NLRI Length: 1 octet of length expressed in bits as defined in
      [<a href="/doc/html/rfc4760" title="&quot;Multiprotocol Extensions for BGP-4&quot;">RFC4760</a>].  When AFI = 1 the value MUST be 96 and when AFI = 2 the
      value MUST be 192.

   o  Distinguisher: 4-octet value uniquely identifying the policy in
      the context of &lt;color, endpoint&gt; tuple.  The distinguisher has no
      semantic value and is solely used by the SR Policy originator to
      make unique (from an NLRI perspective) both for multiple candidate
      paths of the same SR Policy as well as candidate paths of
      different SR Policies (i.e. with different segment lists) with the
      same Color and Endpoint but meant for different headends.

   o  Policy Color: 4-octet value identifying (with the endpoint) the
      policy.  The color is used to match the color of the destination
      prefixes to steer traffic into the SR Policy as specified in
      <a href="/doc/html/rfc9256#section-8">section&nbsp;8 of [RFC9256]</a>.

   o  Endpoint: identifies the endpoint of a policy.  The Endpoint may
      represent a single node or a set of nodes (e.g., an anycast
      address).  The Endpoint is an IPv4 (4-octet) address or an IPv6
      (16-octet) address according to the AFI of the NLRI.  The address
      can be either a unicast or an unspecified address (0.0.0.0 for
      IPv4, :: for IPv6) as specified in <a href="/doc/html/rfc9256#section-2.1">section&nbsp;2.1 of [RFC9256]</a>.





<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   The color and endpoint are used to automate the steering of BGP
   service routes on SR Policy as described in <a href="/doc/html/rfc9256#section-8">section&nbsp;8 of [RFC9256]</a>.

   The NLRI containing an SR Policy candidate path is carried in a BGP
   UPDATE message [<a href="/doc/html/rfc4271" title="&quot;A Border Gateway Protocol 4 (BGP-4)&quot;">RFC4271</a>] using BGP multi-protocol extensions
   [<a href="/doc/html/rfc4760" title="&quot;Multiprotocol Extensions for BGP-4&quot;">RFC4760</a>] with an AFI of 1 or 2 (IPv4 or IPv6) and with a SAFI of 73.
   The fault management and error handling in the encoding of the NLRI
   is specified in <a href="#section-5">Section 5</a>.

   An update message that carries the MP_REACH_NLRI or MP_UNREACH_NLRI
   attribute with the SR Policy SAFI MUST also carry the BGP mandatory
   attributes.  In addition, the BGP update message MAY also contain any
   of the BGP optional attributes.

   The next-hop network address field in SR Policy SAFI (73) updates may
   be either a 4-octet IPv4 address or a 16-octet IPv6 address,
   independent of the SR Policy AFI.  The length field of the next-hop
   address specifies the next-hop address family.  If the next-hop
   length is 4, then the next-hop is an IPv4 address; if the next-hop
   length is 16, then it is a global IPv6 address; if the next-hop
   length is 32, then it has a global IPv6 address followed by a link-
   local IPv6 address.  The setting of the next-hop field and its
   attendant processing is governed by standard BGP procedures as
   described in <a href="/doc/html/rfc4760#section-3">section&nbsp;3 of [RFC4760]</a> and <a href="/doc/html/rfc2545#section-3">section&nbsp;3 of [RFC2545]</a>.

   It is important to note that any BGP speaker receiving a BGP message
   with an SR Policy NLRI, will process it only if the NLRI is among the
   best paths as per the BGP best-path selection algorithm.  In other
   words, this document leverages the existing BGP propagation and best-
   path selection rules.  Details of the procedures are described in
   <a href="#section-4">Section 4</a>.

   It has to be noted that if several candidate paths of the same SR
   Policy (endpoint, color) are signaled via BGP to a headend, it is
   RECOMMENDED that each NLRI uses a different distinguisher.  If BGP
   has installed into the BGP table two advertisements whose respective
   NLRIs have the same color and endpoint, but different distinguishers,
   both advertisements are passed to the SRPM as different candidate
   paths along with their respective originator information (i.e., ASN
   and BGP Router-ID) as described in <a href="/doc/html/rfc9256#section-2.4">section&nbsp;2.4 of [RFC9256]</a>.  The ASN
   would be the ASN of the origin and the BGP Router-ID is determined in
   the following order:

   o  From the Route Origin Community [<a href="/doc/html/rfc4360" title="&quot;BGP Extended Communities Attribute&quot;">RFC4360</a>] if present and carrying
      an IP Address

   o  As the BGP Originator ID [<a href="/doc/html/rfc4456" title="&quot;BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)&quot;">RFC4456</a>] if present




<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  As the BGP Router-ID of the peer from which the update was
      received as a last resort.

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a>.  SR Policy and Tunnel Encapsulation Attribute</span>

   The content of the SR Policy Candidate Path is encoded in the Tunnel
   Encapsulation Attribute defined in [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>] using a Tunnel-Type
   called SR Policy Type with codepoint 15.  The use of SR Policy
   Tunnel-type is applicable only for the AFI/SAFI pairs of (1/73,
   2/73).

   The SR Policy Encoding structure is as follows:

   SR Policy SAFI NLRI: &lt;Distinguisher, Policy-Color, Endpoint&gt;
   Attributes:
      Tunnel Encapsulation Attribute (23)
         Tunnel Type: SR Policy (15)
             Binding SID
             SRv6 Binding SID
             Preference
             Priority
             Policy Name
             Policy Candidate Path Name
             Explicit NULL Label Policy (ENLP)
             Segment List
                 Weight
                 Segment
                 Segment
                 ...
             ...

   Figure 2: SR Policy Encoding

   where:

   o  SR Policy SAFI NLRI is defined in <a href="#section-2.1">Section 2.1</a>.

   o  Tunnel Encapsulation Attribute is defined in [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>].

   o  Tunnel-Type is set to 15.

   o  Preference, Binding SID, SRv6 Binding SID, Priority, Policy Name,
      Policy Candidate Path Name, ENLP, Segment-List, Weight, and
      Segment sub-TLVs are defined in <a href="#section-2.4">Section 2.4</a>.

   o  Additional sub-TLVs may be defined in the future.





<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   A Tunnel Encapsulation Attribute MUST NOT contain more than one TLV
   of type &quot;SR Policy&quot;.

<span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a>.  Remote Endpoint and Color</span>

   The Tunnel Egress Endpoint and Color sub-TLVs, as defined in
   [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>], may also be present in the SR Policy encodings.

   The Tunnel Egress Endpoint and Color Sub-TLVs of the Tunnel
   Encapsulation Attribute are not used for SR Policy encodings and
   therefore their value is irrelevant in the context of the SR Policy
   SAFI NLRI.  If present, the Tunnel Egress Endpoint sub-TLV and the
   Color sub-TLV MUST be ignored by the BGP speaker and MUST NOT be
   removed from the Tunnel Encapsulation Attribute during propagation.

<span class="h3"><a class="selflink" id="section-2.4" href="#section-2.4">2.4</a>.  SR Policy Sub-TLVs</span>

   This section specifies the sub-TLVs defined for encoding the
   information about the SR Policy Candidate Path.

   Preference, Binding SID, SRv6 Binding SID, Segment-List, Priority,
   Policy Name, Policy Candidate Path Name, and Explicit NULL Label
   Policy are the sub-TLVs introduced for the BGP Tunnel Encapsulation
   Attribute [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>] being defined in this section.

   Weight and Segment are sub-TLVs of the Segment-List sub-TLV mentioned
   above.

   The fault management and error handling in the encoding of the sub-
   TLVs defined in this section are specified in <a href="#section-5">Section 5</a>.

   None of the sub-TLVs defined in the following sub-sections have any
   effect on the BGP best-path selection or propagation procedures.
   These sub-TLVs are not used by the BGP path selection process and are
   instead passed on to SRPM as SR Policy Candidate Path information for
   further processing described in <a href="/doc/html/rfc9256#section-2">section&nbsp;2 of [RFC9256]</a>.

   The use of SR Policy Sub-TLVs is applicable only for the AFI/SAFI
   pairs of (1/73, 2/73).  Future documents may extend their
   applicability to other AFI/SAFI.

<span class="h4"><a class="selflink" id="section-2.4.1" href="#section-2.4.1">2.4.1</a>.  Preference Sub-TLV</span>

   The Preference sub-TLV is used to carry the Preference of an SR
   Policy candidate path.  The contents of this sub-TLV are used by the
   SRPM as described in <a href="/doc/html/rfc9256#section-2.7">section&nbsp;2.7 of [RFC9256]</a>.





<span class="grey">Previdi, et al.         Expires January 28, 2023                [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   The Preference sub-TLV is optional and it MUST NOT appear more than
   once in the SR Policy encoding.

   The Preference sub-TLV has following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Preference (4 octets)                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 3: Preference sub-TLV

   where:

   o  Type: 12

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 6.

   o  Flags: 1 octet of flags.  None are defined in this document.
      Flags SHOULD be set to zero on transmission and MUST be ignored on
      receipt.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  Preference: a 4-octet value indicating the Preference of the SR
      Policy Candidate Path as described in <a href="/doc/html/rfc9256#section-2.7">section&nbsp;2.7 of [RFC9256]</a>.

<span class="h4"><a class="selflink" id="section-2.4.2" href="#section-2.4.2">2.4.2</a>.  Binding SID Sub-TLV</span>

   The Binding SID sub-TLV is used to signal the binding SID related
   information of the SR Policy candidate path.  The contents of this
   sub-TLV are used by the SRPM as described in <a href="/doc/html/rfc9256#section-6">section&nbsp;6 in [RFC9256]</a>.

   The Binding SID sub-TLV is optional and it MUST NOT appear more than
   once in the SR Policy encoding.

   When the Binding SID sub-TLV is used to signal an SRv6 SID, the
   choice of its SRv6 Endpoint Behavior [<a href="/doc/html/rfc8986" title="&quot;Segment Routing over IPv6 (SRv6) Network Programming&quot;">RFC8986</a>] to be instantiated is
   left to the headend node.  It is RECOMMENDED that the SRv6 Binding
   SID sub-TLV defined in <a href="#section-2.4.3">Section 2.4.3</a>, that enables the specification
   of the SRv6 Endpoint Behavior, be used for signaling of an SRv6
   Binding SID for an SR Policy candidate path.



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   The Binding SID sub-TLV has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Binding SID (variable, optional)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 4: Binding SID sub-TLV

   where:

   o  Type: 13

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be one of: 18 when a SRv6 BSID is present, 6 when a SR-MPLS
      BSID is present, or 2 when no BSID is present.

   o  Flags: 1 octet of flags.  The following flags are defined in the
      registry &quot;SR Policy Binding SID Flags&quot; as described in
      <a href="#section-6.6">Section 6.6</a>:

    0 1 2 3 4 5 6 7
   +-+-+-+-+-+-+-+-+
   |S|I|           |
   +-+-+-+-+-+-+-+-+

   Figure 5: Binding SID Flags


      where:

      *  S-Flag: This flag encodes the &quot;Specified-BSID-only&quot; behavior.
         It is used by SRPM as described in <a href="/doc/html/rfc9256#section-6.2.3">section&nbsp;6.2.3 in [RFC9256]</a>.

      *  I-Flag: This flag encodes the &quot;Drop Upon Invalid&quot; behavior.  It
         is used by SRPM as described in <a href="/doc/html/rfc9256#section-8.2">section&nbsp;8.2 in [RFC9256]</a>.

      *  The unassigned bits in the Flag octet MUST be set to zero upon
         transmission and MUST be ignored upon receipt.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  Binding SID: if the length is 2, then no Binding SID is present.
      If the length is 6 then the Binding SID is encoded in 4 octets
      using the format below.  Traffic Class (TC), S, and TTL (Total of
      12 bits) are RESERVED and MUST be set to zero and MUST be ignored.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Label                        | TC  |S|       TTL     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 6: Binding SID Label Encoding


      If the length is 18 then the Binding SID contains a 16-octet SRv6
      SID.

<span class="h4"><a class="selflink" id="section-2.4.3" href="#section-2.4.3">2.4.3</a>.  SRv6 Binding SID Sub-TLV</span>

   The SRv6 Binding SID sub-TLV is used to signal the SRv6 Binding SID
   related information of an SR Policy candidate path.  It enables the
   specification of the SRv6 Endpoint Behavior [<a href="/doc/html/rfc8986" title="&quot;Segment Routing over IPv6 (SRv6) Network Programming&quot;">RFC8986</a>] to be
   instantiated on the headend node.  The contents of this sub-TLV are
   used by the SRPM as described in <a href="/doc/html/rfc9256#section-6">section&nbsp;6 in [RFC9256]</a>.

   The SRv6 Binding SID sub-TLV is optional.  More than one SRv6 Binding
   SID sub-TLVs MAY be signaled in the same SR Policy encoding to
   indicate one or more SRv6 SIDs, each with potentially different SRv6
   Endpoint Behaviors to be instantiated.

   The SRv6 Binding SID sub-TLV has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 SRv6 Binding SID (16 octets)                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //     SRv6 Endpoint Behavior and SID Structure (optional)     //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 7: SRv6 Binding SID sub-TLV

   where:

   o  Type: 20




<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 26 when the SRv6 Endpoint Behavior and SID Structure is
      present else it MUST be 18.

   o  Flags: 1 octet of flags.  The following flags are defined in the
      registry &quot;SR Policy Binding SID Flags&quot; as described in
      <a href="#section-6.7">Section 6.7</a>:

    0 1 2 3 4 5 6 7
   +-+-+-+-+-+-+-+-+
   |S|I|B|         |
   +-+-+-+-+-+-+-+-+

   Figure 8: SRv6 Binding SID Flags


      where:

      *  S-Flag: This flag encodes the &quot;Specified-BSID-only&quot; behavior.
         It is used by SRPM as described in <a href="/doc/html/rfc9256#section-6.2.3">section&nbsp;6.2.3 in [RFC9256]</a>.

      *  I-Flag: This flag encodes the &quot;Drop Upon Invalid&quot; behavior.  It
         is used by SRPM as described in <a href="/doc/html/rfc9256#section-8.2">section&nbsp;8.2 in [RFC9256]</a>.

      *  B-Flag: This flag, when set, indicates the presence of the SRv6
         Endpoint Behavior and SID Structure encoding specified in
         <a href="#section-2.4.4.2.13">Section 2.4.4.2.13</a>.

      *  The unassigned bits in the Flag octet MUST be set to zero upon
         transmission and MUST be ignored upon receipt.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  SRv6 Binding SID: Contains a 16-octet SRv6 SID.

   o  SRv6 Endpoint Behavior and SID Structure: Optional, as defined in
      <a href="#section-2.4.4.2.13">Section 2.4.4.2.13</a>.

<span class="h4"><a class="selflink" id="section-2.4.4" href="#section-2.4.4">2.4.4</a>.  Segment List Sub-TLV</span>

   The Segment List sub-TLV encodes a single explicit path towards the
   endpoint as described in <a href="/doc/html/rfc9256#section-5.1">section&nbsp;5.1 of [RFC9256]</a>.  The Segment List
   sub-TLV includes the elements of the paths (i.e., segments) as well
   as an optional Weight sub-TLV.





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   The Segment List sub-TLV may exceed 255 bytes in length due to a
   large number of segments.  A 2-octet length is thus required.
   According to <a href="/doc/html/rfc9012#section-2">section&nbsp;2 of [RFC9012]</a>, the sub-TLV type defines the
   size of the length field.  Therefore, for the Segment List sub-TLV, a
   code point of 128 or higher is used.

   The Segment List sub-TLV is optional and MAY appear multiple times in
   the SR Policy encoding.  The ordering of Segment List sub-TLVs, each
   sub-TLV encoding a Segment List, does not matter.

   The Segment List sub-TLV contains zero or more Segment sub-TLVs and
   MAY contain a Weight sub-TLV.

   The Segment List sub-TLV has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |             Length            |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                           sub-TLVs                          //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 9: Segment List sub-TLV

   where:

   o  Type: 128.

   o  Length: the total length (not including the Type and Length
      fields) of the sub-TLVs encoded within the Segment List sub-TLV in
      terms of octets.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  sub-TLVs currently defined:

      *  An optional single Weight sub-TLV.

      *  Zero or more Segment sub-TLVs.

   Validation of an explicit path encoded by the Segment List sub-TLV is
   beyond the scope of BGP and performed by the SRPM as described in
   <a href="/doc/html/rfc9256#section-5">section&nbsp;5 of [RFC9256]</a>.






<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 14]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-15" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


<span class="h5"><a class="selflink" id="section-2.4.4.1" href="#section-2.4.4.1">2.4.4.1</a>.  Weight Sub-TLV</span>

   The Weight sub-TLV specifies the weight associated with a given
   segment list.  The contents of this sub-TLV are used only by the SRPM
   as described in <a href="/doc/html/rfc9256#section-2.11">section&nbsp;2.11 of [RFC9256]</a>.

   The Weight sub-TLV is optional and it MUST NOT appear more than once
   inside the Segment List sub-TLV.

   The Weight sub-TLV has the following format:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                              Weight                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 10: Weight sub-TLV

   where:

   o  Type: 9.

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 8.

   o  Flags: 1 octet of flags.  None are defined in this document.
      Flags SHOULD be set to zero on transmission and MUST be ignored on
      receipt.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  Weight: 4 octets value indicating the weight associated with a
      segment list as described in <a href="/doc/html/rfc9256#section-2.11">section&nbsp;2.11 of [RFC9256]</a>.

<span class="h5"><a class="selflink" id="section-2.4.4.2" href="#section-2.4.4.2">2.4.4.2</a>.  Segment Sub-TLVs</span>

   A Segment sub-TLV describes a single segment in a segment list (i.e.,
   a single element of the explicit path).  One or more Segment sub-TLVs
   constitute an explicit path of the SR Policy candidate path.  The
   contents of these sub-TLVs are used only by the SRPM as described in
   <a href="/doc/html/rfc9256#section-4">section&nbsp;4 in [RFC9256]</a>.





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 15]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-16" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   The Segment sub-TLVs are optional and MAY appear multiple times in
   the Segment List sub-TLV.

   <a href="/doc/html/rfc9256#section-4">Section&nbsp;4 of [RFC9256]</a> defines several Segment Types:

   Type  A: SR-MPLS Label
   Type  B: SRv6 SID
   Type  C: IPv4 Prefix with optional SR Algorithm
   Type  D: IPv6 Global Prefix with optional SR Algorithm for SR-MPLS
   Type  E: IPv4 Prefix with Local Interface ID
   Type  F: IPv4 Addresses for link endpoints as Local, Remote pair
   Type  G: IPv6 Prefix and Interface ID for link endpoints as Local,
            Remote pair for SR-MPLS
   Type  H: IPv6 Addresses for link endpoints as Local, Remote pair
            for SR-MPLS
   Type  I: IPv6 Global Prefix with optional SR Algorithm for SRv6
   Type  J: IPv6 Prefix and Interface ID for link endpoints as Local,
            Remote pair for SRv6
   Type  K: IPv6 Addresses for link endpoints as Local, Remote pair
            for SRv6


   The following sub-sections specify the sub-TLVs used for encoding
   each of these Segment Types.

<span class="h6"><a class="selflink" id="section-2.4.4.2.1" href="#section-2.4.4.2.1">2.4.4.2.1</a>.  Segment Type A</span>

   The Type A Segment Sub-TLV encodes a single SR-MPLS SID.  The format
   is as follows and is used to encode MPLS Label fields as specified in
   [<a href="/doc/html/rfc3032" title="&quot;MPLS Label Stack Encoding&quot;">RFC3032</a>] [<a href="/doc/html/rfc5462" title="&quot;Multiprotocol Label Switching (MPLS) Label Stack Entry: &quot;">RFC5462</a>].:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Label                        | TC  |S|       TTL     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 11: Type A Segment sub-TLV

   where:

   o  Type: 1.

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 6.



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 16]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-17" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  Label: 20 bits of label value.

   o  TC: 3 bits of traffic class.

   o  S: 1 bit of bottom-of-stack.

   o  TTL: 1 octet of TTL.

   The following applies to the Type-1 Segment sub-TLV:

   o  The S bit MUST be zero upon transmission and MUST be ignored upon
      reception.

   o  If the originator wants the receiver to choose the TC value, it
      sets the TC field to zero.

   o  If the originator wants the receiver to choose the TTL value, it
      sets the TTL field to 255.

   o  If the originator wants to recommend a value for these fields, it
      puts those values in the TC and/or TTL fields.

   o  The receiver MAY override the originator&#x27;s values for these
      fields.  This would be determined by local policy at the receiver.
      One possible policy would be to override the fields only if the
      fields have the default values specified above.

<span class="h6"><a class="selflink" id="section-2.4.4.2.2" href="#section-2.4.4.2.2">2.4.4.2.2</a>.  Segment Type B</span>

   The Type B Segment Sub-TLV encodes a single SRv6 SID.  The format is
   as follows:















<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 17]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-18" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                       SRv6 SID (16 octets)                  //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //     SRv6 Endpoint Behavior and SID Structure (optional)     //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 12: Type B Segment sub-TLV

   where:

   o  Type: 13.

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 26 when the SRv6 Endpoint Behavior and SID Structure is
      present else it MUST be 18.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  SRv6 SID: 16 octets of IPv6 address.

   o  SRv6 Endpoint Behavior and SID Structure: Optional, as defined in
      <a href="#section-2.4.4.2.13">Section 2.4.4.2.13</a>.

   The TLV 2 defined for the advertisement of Segment Type B in the
   earlier versions of this document has been deprecated to avoid
   backward compatibility issues.

<span class="h6"><a class="selflink" id="section-2.4.4.2.3" href="#section-2.4.4.2.3">2.4.4.2.3</a>.  Segment Type C</span>

   The Type C Segment Sub-TLV encodes an IPv4 node address, SR
   Algorithm, and an optional SR-MPLS SID.  The format is as follows:












<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 18]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-19" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |  SR Algorithm |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 IPv4 Node Address (4 octets)                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                SR-MPLS SID (optional, 4 octets)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 13: Type C Segment sub-TLV

   where:

   o  Type: 3.

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 10 when the SR-MPLS SID is present else it MUST be 6.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  SR Algorithm: 1 octet specifying SR Algorithm as described in
      <a href="/doc/html/rfc8402#section-3.1.1">section&nbsp;3.1.1 in [RFC8402]</a> when A-Flag as defined in
      <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a> is present.  SR Algorithm is used by SRPM as
      described in <a href="/doc/html/rfc9256#section-4">section&nbsp;4 in [RFC9256]</a>.  When A-Flag is not encoded,
      this field MUST be set to zero on transmission and MUST be ignored
      on receipt.

   o  IPv4 Node Address: a 4-octet IPv4 address representing a node.

   o  SR-MPLS SID: optional, 4-octet field containing label, TC, S and
      TTL as defined in <a href="#section-2.4.4.2.1">Section 2.4.4.2.1</a>.

<span class="h6"><a class="selflink" id="section-2.4.4.2.4" href="#section-2.4.4.2.4">2.4.4.2.4</a>.  Segment Type D</span>

   The Type D Segment Sub-TLV encodes an IPv6 node address, SR
   Algorithm, and an optional SR-MPLS SID.  The format is as follows:













<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 19]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-20" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |  SR Algorithm |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                IPv6 Node Address (16 octets)                //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                SR-MPLS SID (optional, 4 octets)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 14: Type D Segment sub-TLV

   where:

   o  Type: 4

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 22 when the SR-MPLS SID is present else it MUST be 18.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  SR Algorithm: 1 octet specifying SR Algorithm as described in
      <a href="/doc/html/rfc8402#section-3.1.1">section&nbsp;3.1.1 in [RFC8402]</a> when A-Flag as defined in
      <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a> is present.  SR Algorithm is used by SRPM as
      described in <a href="/doc/html/rfc9256#section-4">section&nbsp;4 in [RFC9256]</a>.  When A-Flag is not encoded,
      this field MUST be set to zero on transmission and MUST be ignored
      on receipt.

   o  IPv6 Node Address: a 16-octet IPv6 address representing a node.

   o  SR-MPLS SID: optional, 4-octet field containing label, TC, S and
      TTL as defined in <a href="#section-2.4.4.2.1">Section 2.4.4.2.1</a>.

<span class="h6"><a class="selflink" id="section-2.4.4.2.5" href="#section-2.4.4.2.5">2.4.4.2.5</a>.  Segment Type E</span>

   The Type E Segment Sub-TLV encodes an IPv4 node address, a local
   interface Identifier (Local Interface ID), and an optional SR-MPLS
   SID.  The format is as follows:












<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 20]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-21" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Local Interface ID (4 octets)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 IPv4 Node Address (4 octets)                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                SR-MPLS SID (optional, 4 octets)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 15: Type E Segment sub-TLV

   where:

   o  Type: 5.

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 14 when the SR-MPLS SID is present else it MUST be 10.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  Local Interface ID: 4 octets of interface index as defined in
      [<a href="/doc/html/rfc8664" title="&quot;Path Computation Element Communication Protocol (PCEP) Extensions for Segment Routing&quot;">RFC8664</a>].

   o  IPv4 Node Address: a 4-octet IPv4 address representing a node.

   o  SR-MPLS SID: optional, 4-octet field containing label, TC, S and
      TTL as defined in <a href="#section-2.4.4.2.1">Section 2.4.4.2.1</a>.

<span class="h6"><a class="selflink" id="section-2.4.4.2.6" href="#section-2.4.4.2.6">2.4.4.2.6</a>.  Segment Type F</span>

   The Type F Segment Sub-TLV encodes an adjacency local address, an
   adjacency remote address, and an optional SR-MPLS SID.  The format is
   as follows:











<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 21]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-22" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Local IPv4 Address (4 octets)                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Remote IPv4 Address  (4 octets)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                SR-MPLS SID (optional, 4 octets)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 16: Type F Segment sub-TLV

   where:

   o  Type: 6.

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 14 when the SR-MPLS SID is present else it MUST be 10.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  Local IPv4 Address: a 4-octet IPv4 address representing the local
      link address of the node.

   o  Remote IPv4 Address: a 4-octet IPv4 address representing the link
      address of the neighbor node.

   o  SR-MPLS SID: optional, 4-octet field containing label, TC, S and
      TTL as defined in <a href="#section-2.4.4.2.1">Section 2.4.4.2.1</a>.

<span class="h6"><a class="selflink" id="section-2.4.4.2.7" href="#section-2.4.4.2.7">2.4.4.2.7</a>.  Segment Type G</span>

   The Type G Segment Sub-TLV encodes an IPv6 link-local adjacency with
   IPv6 local node address, a local interface identifier (Local
   Interface ID), IPv6 remote node address, a remote interface
   identifier (Remote Interface ID), and an optional SR-MPLS SID.  The
   format is as follows:








<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 22]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-23" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Local Interface ID (4 octets)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                IPv6 Local Node Address (16 octets)          //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Remote Interface ID (4 octets)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                IPv6 Remote Node Address (16 octets)         //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                SR-MPLS SID (optional, 4 octets)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 17: Type G Segment sub-TLV

   where:

   o  Type: 7

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 46 when the SR-MPLS SID is present else it MUST be 42.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  Local Interface ID: 4 octets of interface index as defined in
      [<a href="/doc/html/rfc8664" title="&quot;Path Computation Element Communication Protocol (PCEP) Extensions for Segment Routing&quot;">RFC8664</a>].

   o  IPv6 Local Node Address: a 16-octet IPv6 address representing the
      node.

   o  Remote Interface ID: 4 octets of interface index as defined in
      [<a href="/doc/html/rfc8664" title="&quot;Path Computation Element Communication Protocol (PCEP) Extensions for Segment Routing&quot;">RFC8664</a>].  The value MAY be set to zero when the local node
      address and interface identifiers are sufficient to describe the
      link.

   o  IPv6 Remote Node Address: a 16-octet IPv6 address.  The value MAY
      be set to zero when the local node address and interface
      identifiers are sufficient to describe the link.

   o  SR-MPLS SID: optional, 4-octet field containing label, TC, S and
      TTL as defined in <a href="#section-2.4.4.2.1">Section 2.4.4.2.1</a>.



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 23]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-24" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


<span class="h6"><a class="selflink" id="section-2.4.4.2.8" href="#section-2.4.4.2.8">2.4.4.2.8</a>.  Segment Type H</span>

   The Type H Segment Sub-TLV encodes an adjacency local address, an
   adjacency remote address, and an optional SR-MPLS SID.  The format is
   as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //               Local IPv6 Address (16 octets)                //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //               Remote IPv6 Address  (16 octets)              //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                SR-MPLS SID (optional, 4 octets)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 18: Type H Segment sub-TLV

   where:

   o  Type: 8

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 38 when the SR-MPLS SID is present else it MUST be 34.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

   o  Local IPv6 Address: a 16-octet IPv6 address representing the local
      link address of the node.

   o  Remote IPv6 Address: a 16-octet IPv6 address representing the link
      address of the neighbor node.

   o  SR-MPLS SID: optional, 4-octet field containing label, TC, S and
      TTL as defined in <a href="#section-2.4.4.2.1">Section 2.4.4.2.1</a>.

<span class="h6"><a class="selflink" id="section-2.4.4.2.9" href="#section-2.4.4.2.9">2.4.4.2.9</a>.  Segment Type I</span>

   The Type I Segment Sub-TLV encodes an IPv6 node address, SR
   Algorithm, and an optional SRv6 SID.  The format is as follows:





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 24]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-25" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     | SR Algorithm  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                 IPv6 Node Address (16 octets)               //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                    SRv6 SID (optional, 16 octets)           //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //     SRv6 Endpoint Behavior and SID Structure (optional)     //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 19: Type I Segment sub-TLV

   where:

   o  Type: 14

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be one of: 42 when both SRv6 SID and SRv6 Endpoint Behavior &amp;
      SID Structure are present, 34 when only SRv6 SID is present, or 18
      when the SRv6 SID is not present.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  SR Algorithm: 1 octet specifying SR Algorithm as described in
      <a href="/doc/html/rfc8402#section-3.1.1">section&nbsp;3.1.1 in [RFC8402]</a> when A-Flag as defined in
      <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a> is present.  SR Algorithm is used by SRPM as
      described in <a href="/doc/html/rfc9256#section-4">section&nbsp;4 in [RFC9256]</a>.  When A-Flag is not encoded,
      this field MUST be set to zero on transmission and MUST be ignored
      on receipt.

   o  IPv6 Node Address: a 16-octet IPv6 address representing the node.

   o  SRv6 SID: optional, a 16-octet IPv6 address.

   o  SRv6 Endpoint Behavior and SID Structure: Optional, as defined in
      <a href="#section-2.4.4.2.13">Section 2.4.4.2.13</a>.

   The TLV 10 defined for the advertisement of Segment Type I in the
   earlier versions of this document has been deprecated to avoid
   backward compatibility issues.








<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 25]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-26" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


<span class="h6"><a class="selflink" id="section-2.4.4.2.10" href="#section-2.4.4.2.10">2.4.4.2.10</a>.  Segment Type J</span>

   The Type J Segment Sub-TLV encodes an IPv6 link-local adjacency with
   local node address, a local interface identifier (Local Interface
   ID), remote IPv6 node address, a remote interface identifier (Remote
   Interface ID), and an optional SRv6 SID.  The format is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     | SR Algorithm  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Local Interface ID (4 octets)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                IPv6 Local Node Address (16 octets)          //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Remote Interface ID (4 octets)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                IPv6 Remote Node Address (16 octets)         //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                SRv6 SID (optional, 16 octets)               //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //     SRv6 Endpoint Behavior and SID Structure (optional)     //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 20: Type J Segment sub-TLV

   where:

   o  Type: 15

   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be one of: 66 when both SRv6 SID and SRv6 Endpoint Behavior &amp;
      SID Structure are present, 58 when only SRv6 SID is present, or 42
      when the SRv6 SID is not present.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  SR Algorithm: 1 octet specifying SR Algorithm as described in
      <a href="/doc/html/rfc8402#section-3.1.1">section&nbsp;3.1.1 in [RFC8402]</a> when A-Flag as defined in
      <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a> is present.  SR Algorithm is used by SRPM as
      described in <a href="/doc/html/rfc9256#section-4">section&nbsp;4 in [RFC9256]</a>.  When A-Flag is not encoded,
      this field MUST be set to zero on transmission and MUST be ignored
      on receipt.

   o  Local Interface ID: 4 octets of interface index as defined in
      [<a href="/doc/html/rfc8664" title="&quot;Path Computation Element Communication Protocol (PCEP) Extensions for Segment Routing&quot;">RFC8664</a>].



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 26]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-27" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  IPv6 Local Node Address: a 16-octet IPv6 address representing the
      node.

   o  Remote Interface ID: 4 octets of interface index as defined in
      [<a href="/doc/html/rfc8664" title="&quot;Path Computation Element Communication Protocol (PCEP) Extensions for Segment Routing&quot;">RFC8664</a>].  The value MAY be set to zero when the local node
      address and interface identifiers are sufficient to describe the
      link.

   o  IPv6 Remote Node Address: a 16-octet IPv6 address.  The value MAY
      be set to zero when the local node address and interface
      identifiers are sufficient to describe the link.

   o  SRv6 SID: optional, a 16-octet IPv6 address.

   o  SRv6 Endpoint Behavior and SID Structure: Optional, as defined in
      <a href="#section-2.4.4.2.13">Section 2.4.4.2.13</a>.

   The TLV 11 defined for the advertisement of Segment Type J in the
   earlier versions of this document has been deprecated to avoid
   backward compatibility issues.

<span class="h6"><a class="selflink" id="section-2.4.4.2.11" href="#section-2.4.4.2.11">2.4.4.2.11</a>.  Segment Type K</span>

   The Type K Segment Sub-TLV encodes an adjacency local address, an
   adjacency remote address, and an optional SRv6 SID.  The format is as
   follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     | SR Algorithm  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //               Local IPv6 Address (16 octets)                //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //               Remote IPv6 Address  (16 octets)              //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                SRv6 SID (optional, 16 octets)               //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //     SRv6 Endpoint Behavior and SID Structure (optional)     //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 21: Type K Segment sub-TLV

   where:

   o  Type: 16





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 27]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-28" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be one of: 58 when both SRv6 SID and SRv6 Endpoint Behavior &amp;
      SID Structure are present, 50 when only SRv6 SID is present, or 34
      when the SRv6 SID is not present.

   o  Flags: 1 octet of flags as defined in <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a>.

   o  SR Algorithm: 1 octet specifying SR Algorithm as described in
      <a href="/doc/html/rfc8402#section-3.1.1">section&nbsp;3.1.1 in [RFC8402]</a> when A-Flag as defined in
      <a href="#section-2.4.4.2.12">Section 2.4.4.2.12</a> is present.  SR Algorithm is used by SRPM as
      described in <a href="/doc/html/rfc9256#section-4">section&nbsp;4 in [RFC9256]</a>.  When A-Flag is not encoded,
      this field MUST be set to zero on transmission and MUST be ignored
      on receipt.

   o  Local IPv6 Address: a 16-octet IPv6 address representing the local
      link address of the node.

   o  Remote IPv6 Address: a 16-octet IPv6 address representing the link
      address of the neighbor node.

   o  SRv6 SID: optional, a 16-octet IPv6 address.

   o  SRv6 Endpoint Behavior and SID Structure: Optional, as defined in
      <a href="#section-2.4.4.2.13">Section 2.4.4.2.13</a>.

   The TLV 12 defined for the advertisement of Segment Type K in the
   earlier versions of this document has been deprecated to avoid
   backward compatibility issues.

<span class="h6"><a class="selflink" id="section-2.4.4.2.12" href="#section-2.4.4.2.12">2.4.4.2.12</a>.  Segment Flags</span>

   The Segment Types sub-TLVs described above may contain the following
   flags in the &quot;Flags&quot; field defined in <a href="#section-6.8">Section 6.8</a>:

    0 1 2 3 4 5 6 7
   +-+-+-+-+-+-+-+-+
   |V|A|S|B|       |
   +-+-+-+-+-+-+-+-+

   Figure 22: Segment Flags


   where:

      V-Flag: This flag, when set, is used by SRPM for &quot;SID
      verification&quot; as described in <a href="/doc/html/rfc9256#section-5.1">Section&nbsp;5.1 of [RFC9256]</a>.




<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 28]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-29" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


      A-Flag: This flag, when set, indicates the presence of SR
      Algorithm id in the &quot;SR Algorithm&quot; field applicable to various
      Segment Types.  SR Algorithm is used by SRPM as described in
      <a href="/doc/html/rfc9256#section-4">section&nbsp;4 of [RFC9256]</a>.

      S-Flag: This flag, when set, indicates the presence of the SR-MPLS
      or SRv6 SID depending on the segment type.

      B-Flag: This flag, when set, indicates the presence of the SRv6
      Endpoint Behavior and SID Structure encoding specified in
      <a href="#section-2.4.4.2.13">Section 2.4.4.2.13</a>.

      The unassigned bits in the Flag octet MUST be set to zero upon
      transmission and MUST be ignored upon receipt.

   The following applies to the Segment Flags:

   o  V-Flag applies to all Segment Types.

   o  A-Flag applies to Segment Types C, D, I, J, and K.  If A-Flag
      appears with Segment Types A, B, E, F, G, and H, it MUST be
      ignored.

   o  S-Flag applies to Segment Types C, D, E, F, G, H, I, J, and K.  If
      S-Flag appears with Segment Types A or B, it MUST be ignored.

   o  B-Flag applies to Segment Types B, I, J, and K.  If B-Flag appears
      with Segment Types A, C, D, E, F, G, and H, it MUST be ignored.

<span class="h6"><a class="selflink" id="section-2.4.4.2.13" href="#section-2.4.4.2.13">2.4.4.2.13</a>.  SRv6 SID Endpoint Behavior and Structure</span>

   The Segment Types sub-TLVs described above MAY contain the SRv6
   Endpoint Behavior and SID Structure [<a href="/doc/html/rfc8986" title="&quot;Segment Routing over IPv6 (SRv6) Network Programming&quot;">RFC8986</a>] encoding as described
   below:

   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Endpoint Behavior       |            Reserved           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    LB Length  |  LN Length    | Fun. Length   |  Arg. Length  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 23: SRv6 SID Endpoint Behavior and Structure


   where:

      Endpoint Behavior: 2 octets.  It carries the SRv6 Endpoint
      Behavior code point for this SRv6 SID as defined in <a href="#section-9.2">section 9.2</a> of



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 29]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-30" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


      [<a href="/doc/html/rfc8986" title="&quot;Segment Routing over IPv6 (SRv6) Network Programming&quot;">RFC8986</a>].  When set with the value 0, the choice of SRv6 Endpoint
      Behavior is left to the headend.

      Reserved: 2 octets of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

      Locator Block Length: 1 octet.  SRv6 SID Locator Block length in
      bits.

      Locator Node Length: 1 octet.  SRv6 SID Locator Node length in
      bits.

      Function Length: 1 octet.  SRv6 SID Function length in bits.

      Argument Length: 1 octet.  SRv6 SID Arguments length in bits.

   The total of the locator block, locator node, function, and argument
   lengths MUST be less than or equal to 128.

<span class="h4"><a class="selflink" id="section-2.4.5" href="#section-2.4.5">2.4.5</a>.  Explicit NULL Label Policy Sub-TLV</span>

   To steer an unlabeled IP packet into an SR policy, it is necessary to
   create a label stack for that packet, and push one or more labels
   onto that stack.

   The Explicit NULL Label Policy (ENLP) sub-TLV is used to indicate
   whether an Explicit NULL Label [<a href="/doc/html/rfc3032" title="&quot;MPLS Label Stack Encoding&quot;">RFC3032</a>] must be pushed on an
   unlabeled IP packet before any other labels.

   If an ENLP Sub-TLV is not present, the decision of whether to push an
   Explicit NULL label on a given packet is a matter of local
   configuration.

   The ENLP sub-TLV is optional and it MUST NOT appear more than once in
   the SR Policy encoding.

   The contents of this sub-TLV are used by the SRPM as described in
   <a href="/doc/html/rfc9256#section-4.1">section&nbsp;4.1 of [RFC9256]</a>.













<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 30]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-31" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |     Flags     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     ENLP      |
   +-+-+-+-+-+-+-+-+

   Figure 24: ELNP sub-TLV


   Where:

      Type: 14.

      Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      MUST be 3.

      Flags: 1 octet of flags.  None are defined in this document.
      Flags MUST be set to zero on transmission and MUST be ignored on
      receipt.

      RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

      ENLP (Explicit NULL Label Policy): Indicates whether Explicit NULL
      labels are to be pushed on unlabeled IP packets that are being
      steered into a given SR policy.  This field has one of the
      following values:

         0: Reserved.

         1: Push an IPv4 Explicit NULL label on an unlabeled IPv4
         packet, but do not push an IPv6 Explicit NULL label on an
         unlabeled IPv6 packet.

         2: Push an IPv6 Explicit NULL label on an unlabeled IPv6
         packet, but do not push an IPv4 Explicit NULL label on an
         unlabeled IPv4 packet.

         3: Push an IPv4 Explicit NULL label on an unlabeled IPv4
         packet, and push an IPv6 Explicit NULL label on an unlabeled
         IPv6 packet.

         4: Do not push an Explicit NULL label.

         5 - 255: Reserved.



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 31]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-32" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


      The ENLP reserved values may be used for future extensions and
      implementations SHOULD ignore the ENLP Sub-TLV with these values.
      The behavior signaled in this Sub-TLV MAY be overridden by local
      configuration.  The <a href="/doc/html/rfc9256#section-4.1">section&nbsp;4.1 of [RFC9256]</a> describes the
      behavior on the headend for the handling of the explicit null
      label.

<span class="h4"><a class="selflink" id="section-2.4.6" href="#section-2.4.6">2.4.6</a>.  Policy Priority Sub-TLV</span>

   An operator MAY set the Policy Priority sub-TLV to indicate the order
   in which the SR policies are re-computed upon topological change.
   The contents of this sub-TLV are used by the SRPM as described in
   <a href="/doc/html/rfc9256#section-2.12">section&nbsp;2.12 of [RFC9256]</a>.

   The Priority sub-TLV is optional and it MUST NOT appear more than
   once in the SR Policy encoding.

   The Priority sub-TLV has following format:

   0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |  Priority     |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 25: Priority sub-TLV


   Where:

      Type: 15

      Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.The value
      MUST be 2.

      Priority: a 1-octet value.

      RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

<span class="h4"><a class="selflink" id="section-2.4.7" href="#section-2.4.7">2.4.7</a>.  Policy Candidate Path Name Sub-TLV</span>

   An operator MAY set the Policy Candidate Path Name sub-TLV to attach
   a symbolic name to the SR Policy candidate path.

   Usage of Policy Candidate Path Name sub-TLV is described in <a href="/doc/html/rfc9256#section-2.6">section</a>
   <a href="/doc/html/rfc9256#section-2.6">2.6 of [RFC9256]</a>.



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 32]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-33" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   The Policy Candidate Path Name sub-TLV may exceed 255 bytes in length
   due to a long name.  A 2-octet length is thus required.  According to
   <a href="/doc/html/rfc9012#section-2">section&nbsp;2 of [RFC9012]</a>, the sub-TLV type defines the size of the
   length field.  Therefore, for the Policy Candidate Path Name sub-TLV
   a code point of 128 or higher is used.

   It is RECOMMENDED that the size of the symbolic name for the
   candidate path is limited to 255 bytes.  Implementations MAY choose
   to truncate long names to 255 bytes when signaling via BGP.

   The Policy Candidate Path Name sub-TLV is optional and it MUST NOT
   appear more than once in the SR Policy encoding.

   The Policy Candidate Path Name sub-TLV has following format:

   0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length                      |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //              Policy Candidate Path Name                     //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 26: Policy Candidate Path Name sub-TLV


   Where:

      Type: 129.

      Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      is variable.

      RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

      Policy Candidate Path Name: Symbolic name for the SR Policy
      candidate path without a NULL terminator as specified in <a href="/doc/html/rfc9256#section-2.6">section</a>
      <a href="/doc/html/rfc9256#section-2.6">2.6 of [RFC9256]</a>.

<span class="h4"><a class="selflink" id="section-2.4.8" href="#section-2.4.8">2.4.8</a>.  Policy Name Sub-TLV</span>

   An operator MAY set the Policy Name sub-TLV to associate a symbolic
   name with the SR Policy for which the candidate path is being
   advertised via the SR Policy NLRI.





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 33]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-34" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   Usage of Policy Name sub-TLV is described in <a href="/doc/html/rfc9256#section-2.1">section&nbsp;2.1 of
   [RFC9256]</a>.

   The Policy Name sub-TLV may exceed 255 bytes in length due to a long
   policy name.  A 2-octet length is thus required.  According to
   <a href="/doc/html/rfc9012#section-2">section&nbsp;2 of [RFC9012]</a>, the sub-TLV type defines the size of the
   length field.  Therefore, for the Policy Name sub-TLV a code point of
   128 or higher is used.

   It is RECOMMENDED that the size of the symbolic name for the SR
   Policy is limited to 255 bytes.  Implementations MAY choose to
   truncate long names to 255 bytes when signaling via BGP.

   The Policy Name sub-TLV is optional and it MUST NOT appear more than
   once in the SR Policy encoding.

   The Policy Name sub-TLV has following format:

   0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length                      |   RESERVED    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                        Policy Name                          //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 27: Policy Name sub-TLV


   Where:

      Type: 130

      Length: Specifies the length of the value field (i.e., not
      including Type and Length fields) in terms of octets.  The value
      is variable.

      RESERVED: 1 octet of reserved bits.  MUST be set to zero on
      transmission and MUST be ignored on receipt.

      Policy Name: Symbolic name for the policy.  It SHOULD be a string
      of printable ASCII characters, without a NULL terminator.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Color Extended Community</span>

   The Color Extended Community [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>] is used to steer traffic
   corresponding to BGP routes into an SR Policy with matching color
   value.  The Color Extended Community MAY be carried in any BGP UPDATE



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 34]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-35" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   message whose AFI/SAFI is 1/1 (IPv4 Unicast), 2/1 (IPv6 Unicast), 1/4
   (IPv4 Labeled Unicast), 2/4 (IPv6 Labeled Unicast), 1/128 (VPN-IPv4
   Labeled Unicast), 2/128 (VPN-IPv6 Labeled Unicast), or 25/70
   (Ethernet VPN, usually known as EVPN).  Use of the Color Extended
   Community in BGP UPDATE messages of other AFI/SAFIs is outside the
   scope of this document.

   Two bits from the Flags field of the Color Extended Community are
   used as follows to support the requirements of Color-Only steering as
   specified in <a href="/doc/html/rfc9256#section-8.8">Section&nbsp;8.8 of [RFC9256]</a>:

                        1
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |C O|        Unassigned         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 28: Color Extended Community Flags


   The CO bits together form the Color-Only Type field which indicates
   the various matching criteria between BGP NH and SR Policy endpoint
   in addition to the matching of the color value.  Following types are
   defined:

   o  Type 0: Specific Endpoint Match: Request match for the endpoint
      that is the BGP NH

   o  Type 1: Specific or Null Endpoint Match: Request match for either
      the endpoint that is the BGP NH or a null endpoint (e.g., like a
      default gateway)

   o  Type 2: Specific, Null, or Any Endpoint Match: Request match for
      either the endpoint that is the BGP NH or with a null or any
      endpoint

   o  Type 3: reserved for future use and SHOULD NOT be used.  Upon
      reception, an implementation MUST treat it like Type 0.

   The details of the SR Policy steering mechanisms based on these
   Color-Only types are specified in <a href="/doc/html/rfc9256#section-8.8">section&nbsp;8.8 of [RFC9256]</a>.

   One or more Color Extended Communities MAY be associated with a BGP
   route update.  Sections <a href="#section-8.4.1">8.4.1</a>, <a href="#section-8.5.1">8.5.1</a>, and <a href="#section-8.8.2">8.8.2</a> of [<a href="/doc/html/rfc9256" title="&quot;Segment Routing Policy Architecture&quot;">RFC9256</a>] specify
   the steering behaviors over SR Policies when multiple Color Extended
   Communities are associated with a BGP route.





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 35]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-36" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  SR Policy Operations</span>

   As mentioned in <a href="#section-1">Section 1</a>, BGP is not the actual consumer of an SR
   Policy NLRI.  BGP is in charge of the origination and propagation of
   the SR Policy NLRI but its installation and use are outside the scope
   of BGP.  The details of SR Policy installation and use are specified
   in [<a href="/doc/html/rfc9256" title="&quot;Segment Routing Policy Architecture&quot;">RFC9256</a>].

<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a>.  Advertisement of SR Policies</span>

   Typically, but not limited to, an SR Policy is computed by a
   controller or a path computation engine (PCE) and originated by a BGP
   speaker on its behalf.

   Multiple SR Policy NLRIs may be present with the same &lt;color,
   endpoint&gt; tuple but with different content when these SR policies are
   intended for different headends.

   The distinguisher of each SR Policy NLRI prevents undesired BGP route
   selection among these SR Policy NLRIs and allows their propagation
   across route reflectors [<a href="/doc/html/rfc4456" title="&quot;BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)&quot;">RFC4456</a>].

   Moreover, one or more route targets SHOULD be attached to the
   advertisement, where each route target identifies one or more
   intended headends for the advertised SR Policy update.

   If no route target is attached to the SR Policy NLRI, then it is
   assumed that the originator sends the SR Policy update directly
   (e.g., through a BGP session) to the intended receiver.  In such a
   case, the NO_ADVERTISE community MUST be attached to the SR Policy
   update.

<span class="h3"><a class="selflink" id="section-4.2" href="#section-4.2">4.2</a>.  Reception of an SR Policy NLRI</span>

   On reception of an SR Policy NLRI, a BGP speaker first determines if
   it is acceptable and then if it is usable.

<span class="h4"><a class="selflink" id="section-4.2.1" href="#section-4.2.1">4.2.1</a>.  Acceptance of an SR Policy NLRI</span>

   When a BGP speaker receives an SR Policy NLRI from a neighbor it MUST
   first, determine if it is acceptable.  The following rules apply in
   addition to the validation described in <a href="#section-5">Section 5</a>:

   o  The SR Policy NLRI MUST include a distinguisher, color, and
      endpoint field which implies that the length of the NLRI MUST be
      either 12 or 24 octets (depending on the address family of the
      endpoint).




<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 36]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-37" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  The SR Policy update MUST have either the NO_ADVERTISE community
      or at least one route target extended community in IPv4-address
      format or both.  If a router supporting this specification
      receives an SR Policy update with no route target extended
      communities and no NO_ADVERTISE community, the update MUST be
      considered as malformed.

   o  The Tunnel Encapsulation Attribute MUST be attached to the BGP
      Update and MUST have a Tunnel Type TLV set to SR Policy (codepoint
      is 15).

   A router that receives an SR Policy update that is not valid
   according to these criteria MUST treat the update as malformed and
   the SR Policy candidate path MUST NOT be passed to the SRPM.

<span class="h4"><a class="selflink" id="section-4.2.2" href="#section-4.2.2">4.2.2</a>.  Usable SR Policy NLRI</span>

   An SR Policy update that has been determined to be acceptable is
   further evaluated for its usability by the receiving node.

   An SR Policy NLRI update without any route target extended community
   but having the NO_ADVERTISE community is considered usable.

   If one or more route targets are present, then at least one route
   target MUST match the BGP Identifier of the receiver for the update
   to be considered usable.  The BGP Identifier is defined in [<a href="/doc/html/rfc4271" title="&quot;A Border Gateway Protocol 4 (BGP-4)&quot;">RFC4271</a>]
   as a 4-octet IPv4 address.  Therefore, the route target extended
   community MUST be of the same format.

   If one or more route targets are present and none matches the local
   BGP Identifier, then, while the SR Policy NLRI is acceptable, it is
   not usable on the receiver node.

   When the SR Policy tunnel type includes any sub-TLV that is
   unrecognized or unsupported, the update SHOULD NOT be considered
   usable.  An implementation MAY provide an option for ignoring
   unsupported sub-TLVs.

<span class="h4"><a class="selflink" id="section-4.2.3" href="#section-4.2.3">4.2.3</a>.  Passing a usable SR Policy NLRI to the SRPM</span>

   Once BGP on the receiving node has determined that the SR Policy NLRI
   is usable, it passes the SR Policy candidate path to the SRPM.  Note
   that, along with the candidate path details, BGP also passes the
   originator information for breaking ties in the candidate path
   selection process as described in <a href="/doc/html/rfc9256#section-2.4">section&nbsp;2.4 of [RFC9256]</a>.






<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 37]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-38" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   When an update for an SR Policy NLRI results in its becoming
   unusable, BGP MUST delete its corresponding SR Policy candidate path
   from the SRPM.

   The SRPM applies the rules defined in <a href="/doc/html/rfc9256#section-2">section&nbsp;2 of [RFC9256]</a> to
   determine whether the SR Policy candidate path is valid and to select
   the best candidate path among the valid ones for a given SR Policy.

<span class="h4"><a class="selflink" id="section-4.2.4" href="#section-4.2.4">4.2.4</a>.  Propagation of an SR Policy</span>

   SR Policy NLRIs that have been determined acceptable and valid can be
   evaluated for propagation, even the ones that are not usable.

   SR Policy NLRIs that have the NO_ADVERTISE community attached to them
   MUST NOT be propagated.

   By default, a BGP node receiving an SR Policy NLRI MUST NOT propagate
   it to any EBGP neighbor.  An implementation MAY provide an explicit
   configuration to override this and enable the propagation of
   acceptable SR Policy NLRIs to specific EBGP neighbors.

   A BGP node advertises a received SR Policy NLRI to its IBGP neighbors
   according to normal IBGP propagation rules.

   By default, a BGP node receiving an SR Policy NLRI SHOULD NOT remove
   route target extended community before propagation.  An
   implementation MAY provide support for configuration to filter and/or
   remove route target extended community before propagation.

   A BGP node MUST NOT alter the SR Policy information carried in the
   Tunnel Encapsulation Attribute during propagation.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Error Handling and Fault Management</span>

   This section describes the error handling actions, as described in
   [<a href="/doc/html/rfc7606" title="&quot;Revised Error Handling for BGP UPDATE Messages&quot;">RFC7606</a>], that are to be performed for the handling of the BGP
   update messages for BGP SR Policy SAFI.

   A BGP Speaker MUST perform the following syntactic validation of the
   SR Policy NLRI to determine if it is malformed.  This includes the
   validation of the length of each NLRI and the total length of the
   MP_REACH_NLRI and MP_UNREACH_NLRI attributes.  It also includes the
   validation of the consistency of the NLRI length with the AFI and the
   endpoint address as specified in <a href="#section-2.1">Section 2.1</a>.

   When the error determined allows for the router to skip the malformed
   NLRI(s) and continue the processing of the rest of the update
   message, then it MUST handle such malformed NLRIs as &#x27;Treat-as-



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 38]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-39" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   withdraw&#x27;.  In other cases, where the error in the NLRI encoding
   results in the inability to process the BGP update message (e.g.
   length related encoding errors), then the router SHOULD handle such
   malformed NLRIs as &#x27;AFI/SAFI disable&#x27; when other AFI/SAFI besides SR
   Policy are being advertised over the same session.  Alternately, the
   router MUST perform &#x27;session reset&#x27; when the session is only being
   used for SR Policy or when it &#x27;AFI/SAFI disable&#x27; action is not
   possible.

   The validation of the TLVs/sub-TLVs introduced in this document and
   defined in their respective sub-sections of <a href="#section-2.4">Section 2.4</a> MUST be
   performed to determine if they are malformed or invalid.  The
   validation of the Tunnel Encapsulation Attribute itself and the other
   TLVs/sub-TLVs specified in [<a href="/doc/html/rfc9012" title="&quot;The BGP Tunnel Encapsulation Attribute&quot;">RFC9012</a>] MUST be done as described in
   that document.  In case of any error detected, either at the
   attribute or its TLV/sub-TLV level, the &quot;treat-as-withdraw&quot; strategy
   MUST be applied.  This is because an SR Policy update without a valid
   Tunnel Encapsulation Attribute (comprising of all valid TLVs/sub-
   TLVs) is not usable.

   An SR Policy update that is determined to be not acceptable, and
   therefore malformed, based on rules described in <a href="#section-4.2.1">Section 4.2.1</a> MUST
   be handled by the &quot;treat-as-withdraw&quot; strategy.

   The validation of the individual fields of the TLVs/sub-TLVs defined
   in <a href="#section-2.4">Section 2.4</a> are beyond the scope of BGP as they are handled by the
   SRPM as described in the individual TLV/sub-TLV sub-sections.  A BGP
   implementation MUST NOT perform semantic verification of such fields
   nor consider the SR Policy update to be invalid or not acceptable/
   usable based on such validation.

   An implementation SHOULD log any errors found during the above
   validation for further analysis.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  IANA Considerations</span>

   This document uses code point allocations from the following existing
   registries:

   o  Subsequent Address Family Identifiers (SAFI) Parameters registry

   o  BGP Tunnel Encapsulation Attribute Tunnel Types registry under the
      BGP Tunnel Encapsulation registry

   o  BGP Tunnel Encapsulation Attribute sub-TLVs registry under the BGP
      Tunnel Encapsulation registry





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 39]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-40" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   o  Color Extended Community Flags registry under the BGP Tunnel
      Encapsulation registry

   This document also requests the creation of the following new
   registries:

   o  SR Policy Segment List Sub-TLVs under the BGP Tunnel Encapsulation
      registry

   o  SR Policy Binding SID Flags under the BGP Tunnel Encapsulation
      registry

   o  SR Policy SRv6 Binding SID Flags under the BGP Tunnel
      Encapsulation registry

   o  SR Policy Segment Flags under the BGP Tunnel Encapsulation
      registry

   o  Color Extended Community Color-Only Types registry under the BGP
      Tunnel Encapsulation registry

<span class="h3"><a class="selflink" id="section-6.1" href="#section-6.1">6.1</a>.  Existing Registry: Subsequent Address Family Identifiers (SAFI)</span>
<span class="h3">      Parameters</span>

   This document introduces a SAFI in the registry &quot;Subsequent Address
   Family Identifiers (SAFI) Parameters&quot; that has been assigned a code
   point by IANA.  The entry needs to be updated as follows:

              Code Point    Description          Reference
              -----------------------------------------------
                 73        SR Policy SAFI       This document

                   Table 1: BGP SAFI Code Point


<span class="h3"><a class="selflink" id="section-6.2" href="#section-6.2">6.2</a>.  Existing Registry: BGP Tunnel Encapsulation Attribute Tunnel Types</span>

   This document introduces a Tunnel-Type in the registry &quot;BGP Tunnel
   Encapsulation Attribute Tunnel Types&quot; that has been assigned a
   codepoint by IANA.  The entry needs to be updated as follows:

            Code Point     Description            Reference
            --------------------------------------------------
               15          SR Policy           This document

                 Table 2: Tunnel Type Code Point





<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 40]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-41" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


<span class="h3"><a class="selflink" id="section-6.3" href="#section-6.3">6.3</a>.  Existing Registry: BGP Tunnel Encapsulation Attribute sub-TLVs</span>

   This document defines sub-TLVs in the registry &quot;BGP Tunnel
   Encapsulation Attribute sub-TLVs&quot; that have been assigned code points
   by IANA as follows via the early allocation process which needs to be
   made permanent:

       Code Point         Description                  Reference
       ------------------------------------------------------------
       12          Preference sub-TLV                  This document
       13          Binding SID sub-TLV                 This document
       14          ENLP sub-TLV                        This document
       15          Priority sub-TLV                    This document
       20          SRv6 Binding SID sub-TLV            This document
       128         Segment List sub-TLV                This document
       129         Policy Candidate Path Name sub-TLV  This document
       130         Policy Name sub-TLV                 This document

            Table 3: BGP Tunnel Encapsulation Attribute Code Points


<span class="h3"><a class="selflink" id="section-6.4" href="#section-6.4">6.4</a>.  Existing Registry: Color Extended Community Flags</span>

   This document defines the use of 2 bits in the registry called &quot;Color
   Extended Community Flags&quot; under the &quot;BGP Tunnel Encapsulation&quot;
   registry that have been assigned by IANA via the early allocation
   process to form the Color-Only Types field which needs to be made
   permanent:

        Bit
     Position     Description                         Reference
    ------------------------------------------------------------------
      0-1       Color-only Types Field                This document

         Table 4: Color Extended Community Flag Bits

<span class="h3"><a class="selflink" id="section-6.5" href="#section-6.5">6.5</a>.  New Registry: SR Policy Segment List Sub-TLVs</span>

   This document requests the creation of a new registry called &quot;SR
   Policy Segment List Sub-TLVs&quot; under the &quot;BGP Tunnel Encapsulation&quot;
   registry.  The allocation policy of this registry is &quot;Standards
   Action&quot; according to [<a href="/doc/html/rfc8126" title="">RFC8126</a>].

   Following initial Sub-TLV codepoints are assigned by this document:







<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 41]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-42" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


           Value   Description                     Reference
           -----------------------------------------------------
             0    Reserved                         This document
             1    Segment Type A sub-TLV           This document
             2    Deprecated                       This document
             3    Segment Type C sub-TLV           This document
             4    Segment Type D sub-TLV           This document
             5    Segment Type E sub-TLV           This document
             6    Segment Type F sub-TLV           This document
             7    Segment Type G sub-TLV           This document
             8    Segment Type H sub-TLV           This document
             9    Weight sub-TLV                   This document
            10    Deprecated                       This document
            11    Deprecated                       This document
            12    Deprecated                       This document
            13    Segment Type B sub-TLV           This document
            14    Segment Type I sub-TLV           This document
            15    Segment Type J sub-TLV           This document
            16    Segment Type K sub-TLV           This document
           17-255 Unassigned

                Table 5: SR Policy Segment List Code Points


<span class="h3"><a class="selflink" id="section-6.6" href="#section-6.6">6.6</a>.  New Registry: SR Policy Binding SID Flags</span>

   This document requests the creation of a new registry called &quot;SR
   Policy Binding SID Flags&quot; under the &quot;BGP Tunnel Encapsulation&quot;
   registry.  The allocation policy of this registry is &quot;Standards
   Action&quot; according to [<a href="/doc/html/rfc8126" title="">RFC8126</a>].

   The following flags are defined:

      Bit     Description                               Reference
     -----------------------------------------------------------------
        0     Specified-BSID-Only Flag (S-Flag)         This document
        1     Drop Upon Invalid Flag (I-Flag)           This document
      2-7     Unassigned

          Table 6: SR Policy Binding SID Flags


<span class="h3"><a class="selflink" id="section-6.7" href="#section-6.7">6.7</a>.  New Registry: SR Policy SRv6 Binding SID Flags</span>

   This document requests the creation of a new registry called &quot;SR
   Policy SRv6 Binding SID Flags&quot; under the &quot;BGP Tunnel Encapsulation&quot;
   registry.  The allocation policy of this registry is &quot;Standards
   Action&quot; according to [<a href="/doc/html/rfc8126" title="">RFC8126</a>].



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 42]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-43" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   The following flags are defined:

      Bit     Description                               Reference
     -----------------------------------------------------------------
        0     Specified-BSID-Only Flag (S-Flag)         This document
        1     Drop Upon Invalid Flag (I-Flag)           This document
        2     SRv6 Endpoint Behavior &amp;
              SID Structure Flag (B-Flag)               This document
      3-7     Unassigned

          Table 7: SR Policy SRv6 Binding SID Flags

<span class="h3"><a class="selflink" id="section-6.8" href="#section-6.8">6.8</a>.  New Registry: SR Policy Segment Flags</span>

   This document requests the creation of a new registry called &quot;SR
   Policy Segment Flags&quot; under the &quot;BGP Tunnel Encapsulation&quot; registry.
   The allocation policy of this registry is &quot;Standards Action&quot;
   according to [<a href="/doc/html/rfc8126" title="">RFC8126</a>].

   The following flags are defined:

     Bit     Description                                Reference
    ------------------------------------------------------------------
       0     Segment Verification Flag (V-Flag)         This document
       1     SR Algorithm Flag (A-Flag)                 This document
       2     SID Specified Flag (S-Flag)                This document
       3     SRv6 Endpoint Behavior &amp;
             SID Structure Flag (B-Flag)                This document
     4-7     Unassigned

         Table 8: SR Policy Segment Flags

<span class="h3"><a class="selflink" id="section-6.9" href="#section-6.9">6.9</a>.  New Registry: Color Extended Community Color-Only Types</span>

   This document requests the creation of a new registry called &quot;Color
   Extended Community Color-Only Types&quot; under the &quot;BGP Tunnel
   Encapsulation&quot; registry for assignment of codepoints (values 0
   through 3) in the Color-Only Type field of the Color Extended
   Community Flags field.  The allocation policy of this registry is
   &quot;Standards Action&quot; according to [<a href="/doc/html/rfc8126" title="">RFC8126</a>].

   The following types are defined:









<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 43]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-44" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


         Type  Description                           Reference
        -----------------------------------------------------------
          0    Specific Endpoint Match               This document
          1    Specific or Null Endpoint Match       This document
          2    Specific, Null, or Any Endpoint Match This document
          3    Unassigned                            This document

             Table 9: Color Extended Community Color-Only Types

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Security Considerations</span>

   The security mechanisms of the base BGP security model apply to the
   extensions described in this document as well.  See the Security
   Considerations section of [<a href="/doc/html/rfc4271" title="&quot;A Border Gateway Protocol 4 (BGP-4)&quot;">RFC4271</a>] for a discussion of BGP security.
   Also, refer to [<a href="/doc/html/rfc4272" title="&quot;BGP Security Vulnerabilities Analysis&quot;">RFC4272</a>] and [<a href="/doc/html/rfc6952" title="&quot;Analysis of BGP, LDP, PCEP, and MSDP Issues According to the Keying and Authentication for Routing Protocols (KARP) Design Guide&quot;">RFC6952</a>] for analysis of security
   issues for BGP.

   The BGP SR Policy extensions specified in this document enable
   traffic engineering and service programming use-cases within an SR
   domain as described in [<a href="/doc/html/rfc9256" title="&quot;Segment Routing Policy Architecture&quot;">RFC9256</a>].  SR operates within a trusted SR
   domain [<a href="/doc/html/rfc8402" title="&quot;Segment Routing Architecture&quot;">RFC8402</a>] and its security considerations also apply to BGP
   sessions when carrying SR Policy information.  The SR Policies
   distributed by BGP are expected to be used entirely within this
   trusted SR domain, i.e., within a single AS or between multiple ASes/
   domains within a single provider network.  Therefore, precaution is
   necessary to ensure that the SR Policy information advertised via BGP
   sessions is limited to nodes in a secure manner within this trusted
   SR domain.  BGP peering sessions for address-families other than SR
   Policy SAFI may be set up to routers outside the SR domain.  The
   isolation of BGP SR Policy SAFI peering sessions may be used to
   ensure that the SR Policy information is not advertised by accident
   or error to an EBGP peering session outside the SR domain.

   Additionally, it may be considered that the export of SR Policy
   information, as described in this document, constitutes a risk to
   confidentiality of mission-critical or commercially sensitive
   information about the network (more specifically endpoint/node
   addresses, SR SIDs, and the SR Policies deployed).  BGP peerings are
   not automatic and require configuration; thus, it is the
   responsibility of the network operator to ensure that only trusted
   nodes (that include both routers and controller applications) within
   the SR domain are configured to receive such information.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  Manageability Considerations</span>

   The specification of BGP models is an ongoing work based on
   [<a href="#ref-I-D.ietf-idr-bgp-model">I-D.ietf-idr-bgp-model</a>] and its future extensions are expected to
   cover the SR Policy SAFI.  Existing BGP operational procedures also



<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 44]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-45" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   apply to the SAFI specified in this document.  The management,
   operations, and monitoring of BGP speakers and the SR Policy SAFI
   sessions between them are not very different from other BGP sessions
   and can be managed using the same data models.

   The YANG model for the operation and management of SR Policies
   [<a href="#ref-I-D.ietf-spring-sr-policy-yang">I-D.ietf-spring-sr-policy-yang</a>] reports the SR Policies provisioned
   via BGP SR Policy SAFI along with their operational states.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  Acknowledgments</span>

   The authors of this document would like to thank Shyam Sethuram, John
   Scudder, Przemyslaw Krol, Alex Bogdanov, Nandan Saha, Bruno Decraene,
   Gurusiddesh Nidasesi, Kausik Majumdar, Zafar Ali, Swadesh Agarwal,
   Jakob Heitz, Viral Patel, Peng Shaofu, Cheng Li, Martin Vigoureux,
   John Scudder, Vincent Roca, Brian Haberman, and Mohamed Boucadair for
   their comments and review of this document.  The authors would like
   to thank Sue Hares for her detailed shepherd review that helped in
   improving the document.

<span class="h2"><a class="selflink" id="section-10" href="#section-10">10</a>.  Contributors</span>

   Eric Rosen
   Juniper Networks
   US

   Email: erosen@juniper.net

   Arjun Sreekantiah
   Cisco Systems
   US

   Email: asreekan@cisco.com

   Acee Lindem
   Cisco Systems
   US

   Email: acee@cisco.com

   Siva Sivabalan
   Cisco Systems
   US

   Email: msiva@cisco.com






<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 45]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-46" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   Imtiyaz Mohammad
   Arista Networks
   India

   Email: imtiyaz@arista.com

   Gaurav Dawra
   Cisco Systems
   US

   Email: gdawra.ietf@gmail.com

   Peng Shaofu
   ZTE Corporation
   China

   Email: peng.shaofu@zte.com.cn

<span class="h2"><a class="selflink" id="section-11" href="#section-11">11</a>.  References</span>

<span class="h3"><a class="selflink" id="section-11.1" href="#section-11.1">11.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC2545">RFC2545</a>]  Marques, P. and F. Dupont, &quot;Use of BGP-4 Multiprotocol
              Extensions for IPv6 Inter-Domain Routing&quot;, <a href="/doc/html/rfc2545">RFC 2545</a>,
              DOI 10.17487/RFC2545, March 1999,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2545">https://www.rfc-editor.org/info/rfc2545</a>&gt;.

   [<a id="ref-RFC3032">RFC3032</a>]  Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y.,
              Farinacci, D., Li, T., and A. Conta, &quot;MPLS Label Stack
              Encoding&quot;, <a href="/doc/html/rfc3032">RFC 3032</a>, DOI 10.17487/RFC3032, January 2001,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;.

   [<a id="ref-RFC4271">RFC4271</a>]  Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., &quot;A
              Border Gateway Protocol 4 (BGP-4)&quot;, <a href="/doc/html/rfc4271">RFC 4271</a>,
              DOI 10.17487/RFC4271, January 2006,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;.

   [<a id="ref-RFC4360">RFC4360</a>]  Sangli, S., Tappan, D., and Y. Rekhter, &quot;BGP Extended
              Communities Attribute&quot;, <a href="/doc/html/rfc4360">RFC 4360</a>, DOI 10.17487/RFC4360,
              February 2006, &lt;<a href="https://www.rfc-editor.org/info/rfc4360">https://www.rfc-editor.org/info/rfc4360</a>&gt;.






<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 46]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-47" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   [<a id="ref-RFC4760">RFC4760</a>]  Bates, T., Chandra, R., Katz, D., and Y. Rekhter,
              &quot;Multiprotocol Extensions for BGP-4&quot;, <a href="/doc/html/rfc4760">RFC 4760</a>,
              DOI 10.17487/RFC4760, January 2007,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4760">https://www.rfc-editor.org/info/rfc4760</a>&gt;.

   [<a id="ref-RFC5462">RFC5462</a>]  Andersson, L. and R. Asati, &quot;Multiprotocol Label Switching
              (MPLS) Label Stack Entry: &quot;EXP&quot; Field Renamed to &quot;Traffic
              Class&quot; Field&quot;, <a href="/doc/html/rfc5462">RFC 5462</a>, DOI 10.17487/RFC5462, February
              2009, &lt;<a href="https://www.rfc-editor.org/info/rfc5462">https://www.rfc-editor.org/info/rfc5462</a>&gt;.

   [<a id="ref-RFC7606">RFC7606</a>]  Chen, E., Ed., Scudder, J., Ed., Mohapatra, P., and K.
              Patel, &quot;Revised Error Handling for BGP UPDATE Messages&quot;,
              <a href="/doc/html/rfc7606">RFC 7606</a>, DOI 10.17487/RFC7606, August 2015,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7606">https://www.rfc-editor.org/info/rfc7606</a>&gt;.

   [<a id="ref-RFC8126">RFC8126</a>]  Cotton, M., Leiba, B., and T. Narten, &quot;Guidelines for
              Writing an IANA Considerations Section in RFCs&quot;, <a href="/doc/html/bcp26">BCP 26</a>,
              <a href="/doc/html/rfc8126">RFC 8126</a>, DOI 10.17487/RFC8126, June 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in <a href="/doc/html/rfc2119">RFC</a>
              <a href="/doc/html/rfc2119">2119</a> Key Words&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc8174">RFC 8174</a>, DOI 10.17487/RFC8174,
              May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-RFC8402">RFC8402</a>]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, &quot;Segment
              Routing Architecture&quot;, <a href="/doc/html/rfc8402">RFC 8402</a>, DOI 10.17487/RFC8402,
              July 2018, &lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;.

   [<a id="ref-RFC8660">RFC8660</a>]  Bashandy, A., Ed., Filsfils, C., Ed., Previdi, S.,
              Decraene, B., Litkowski, S., and R. Shakir, &quot;Segment
              Routing with the MPLS Data Plane&quot;, <a href="/doc/html/rfc8660">RFC 8660</a>,
              DOI 10.17487/RFC8660, December 2019,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;.

   [<a id="ref-RFC8664">RFC8664</a>]  Sivabalan, S., Filsfils, C., Tantsura, J., Henderickx, W.,
              and J. Hardwick, &quot;Path Computation Element Communication
              Protocol (PCEP) Extensions for Segment Routing&quot;, <a href="/doc/html/rfc8664">RFC 8664</a>,
              DOI 10.17487/RFC8664, December 2019,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8664">https://www.rfc-editor.org/info/rfc8664</a>&gt;.

   [<a id="ref-RFC8754">RFC8754</a>]  Filsfils, C., Ed., Dukes, D., Ed., Previdi, S., Leddy, J.,
              Matsushima, S., and D. Voyer, &quot;IPv6 Segment Routing Header
              (SRH)&quot;, <a href="/doc/html/rfc8754">RFC 8754</a>, DOI 10.17487/RFC8754, March 2020,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;.






<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 47]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-48" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


   [<a id="ref-RFC8986">RFC8986</a>]  Filsfils, C., Ed., Camarillo, P., Ed., Leddy, J., Voyer,
              D., Matsushima, S., and Z. Li, &quot;Segment Routing over IPv6
              (SRv6) Network Programming&quot;, <a href="/doc/html/rfc8986">RFC 8986</a>,
              DOI 10.17487/RFC8986, February 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;.

   [<a id="ref-RFC9012">RFC9012</a>]  Patel, K., Van de Velde, G., Sangli, S., and J. Scudder,
              &quot;The BGP Tunnel Encapsulation Attribute&quot;, <a href="/doc/html/rfc9012">RFC 9012</a>,
              DOI 10.17487/RFC9012, April 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc9012">https://www.rfc-editor.org/info/rfc9012</a>&gt;.

   [<a id="ref-RFC9256">RFC9256</a>]  Filsfils, C., Talaulikar, K., Ed., Voyer, D., Bogdanov,
              A., and P. Mattes, &quot;Segment Routing Policy Architecture&quot;,
              <a href="/doc/html/rfc9256">RFC 9256</a>, DOI 10.17487/RFC9256, July 2022,
              &lt;<a href="https://www.rfc-editor.org/info/rfc9256">https://www.rfc-editor.org/info/rfc9256</a>&gt;.

<span class="h3"><a class="selflink" id="section-11.2" href="#section-11.2">11.2</a>.  Informational References</span>

   [<a id="ref-I-D.ietf-idr-bgp-model">I-D.ietf-idr-bgp-model</a>]
              Jethanandani, M., Patel, K., Hares, S., and J. Haas, &quot;BGP
              YANG Model for Service Provider Networks&quot;, <a href="/doc/html/draft-ietf-idr-bgp-model-14">draft-ietf-idr-</a>
              <a href="/doc/html/draft-ietf-idr-bgp-model-14">bgp-model-14</a> (work in progress), July 2022.

   [<a id="ref-I-D.ietf-spring-sr-policy-yang">I-D.ietf-spring-sr-policy-yang</a>]
              Raza, K., Sawaya, R., Shunwan, Z., Voyer, D., Durrani, M.,
              Matsushima, S., and V. P. Beeram, &quot;YANG Data Model for
              Segment Routing Policy&quot;, <a href="/doc/html/draft-ietf-spring-sr-policy-yang-01">draft-ietf-spring-sr-policy-</a>
              <a href="/doc/html/draft-ietf-spring-sr-policy-yang-01">yang-01</a> (work in progress), April 2021.

   [<a id="ref-RFC4272">RFC4272</a>]  Murphy, S., &quot;BGP Security Vulnerabilities Analysis&quot;,
              <a href="/doc/html/rfc4272">RFC 4272</a>, DOI 10.17487/RFC4272, January 2006,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4272">https://www.rfc-editor.org/info/rfc4272</a>&gt;.

   [<a id="ref-RFC4456">RFC4456</a>]  Bates, T., Chen, E., and R. Chandra, &quot;BGP Route
              Reflection: An Alternative to Full Mesh Internal BGP
              (IBGP)&quot;, <a href="/doc/html/rfc4456">RFC 4456</a>, DOI 10.17487/RFC4456, April 2006,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4456">https://www.rfc-editor.org/info/rfc4456</a>&gt;.

   [<a id="ref-RFC6952">RFC6952</a>]  Jethanandani, M., Patel, K., and L. Zheng, &quot;Analysis of
              BGP, LDP, PCEP, and MSDP Issues According to the Keying
              and Authentication for Routing Protocols (KARP) Design
              Guide&quot;, <a href="/doc/html/rfc6952">RFC 6952</a>, DOI 10.17487/RFC6952, May 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6952">https://www.rfc-editor.org/info/rfc6952</a>&gt;.








<span class="grey">Previdi, et al.         Expires January 28, 2023               [Page 48]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-49" ></span>
<span class="grey">Internet-Draft       Segment Routing Policies in BGP           July 2022</span>


Authors&#x27; Addresses

   Stefano Previdi
   Huawei Technologies
   IT

   Email: stefano@previdi.net


   Clarence Filsfils
   Cisco Systems
   Brussels
   BE

   Email: cfilsfil@cisco.com


   Ketan Talaulikar (editor)
   Arrcus Inc
   India

   Email: ketant.ietf@gmail.com


   Paul Mattes
   Microsoft
   One Microsoft Way
   Redmond, WA  98052
   USA

   Email: pamattes@microsoft.com


   Dhanendra Jain
   Google

   Email: dhanendra.ietf@gmail.com


   Steven Lin
   Google

   Email: stevenlin@google.com








Previdi, et al.         Expires January 28, 2023               [Page 49]
</pre></div>
                    </div>
                
            </div>
            <div class="d-print-none col-md-3 bg-light-subtle collapse show" id="sidebar">
                <div class="position-fixed border-start sidebar overflow-scroll overscroll-none no-scrollbar">
                    <div class="d-flex flex-column vh-100 pt-2 pt-lg-3 ps-3 pl-md-2 pl-lg-3">
                        <div>
                            <a class="btn btn-primary btn-sm" href="/doc/draft-ietf-idr-segment-routing-te-policy/">Datatracker</a>
                            <p class="fw-bold pt-2">
                                
                                    draft-ietf-idr-segment-routing-te-policy-20
                                
                                <br>
                                







    <div>This is an older version of an Internet-Draft whose latest revision state is "Replaced".</div>

                            </p>
                        </div>
                        
                        <ul class="nav nav-tabs nav-fill small me-2" role="tablist">
                            <li class="nav-item" role="presentation" title="Document information">
                                <button class="nav-link px-2"
                                        id="docinfo-tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#docinfo-tab-pane"
                                        type="button"
                                        role="tab"
                                        aria-controls="docinfo-tab-pane"
                                        aria-selected="true">
                                    <i class="bi bi-info-circle"></i><span class="d-none d-md-block d-xl-inline ms-xl-1">Info</span>
                                </button>
                            </li>
                            <li class="nav-item" role="presentation" title="Table of contents">
                                <button class="nav-link px-2"
                                        id="toc-tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#toc-tab-pane"
                                        type="button"
                                        role="tab"
                                        aria-controls="toc-tab-pane"
                                        aria-selected="false">
                                    <i class="bi bi-list-ol"></i><span class="d-none d-md-block d-xl-inline ms-xl-1">Contents</span>
                                </button>
                            </li>
                            <li class="nav-item" role="presentation" title="Preferences">
                                <button class="nav-link px-2"
                                        id="pref-tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#pref-tab-pane"
                                        type="button"
                                        role="tab"
                                        aria-controls="pref-tab-pane"
                                        aria-selected="false">
                                    <i class="bi bi-gear"></i><span class="d-none d-md-block d-xl-inline ms-xl-1">Prefs</span>
                                </button>
                            </li>
                        </ul>
                        <div class="overflow-auto tab-content pt-2 me-2">
                            <div class="tab-pane"
                                 id="docinfo-tab-pane"
                                 role="tabpanel"
                                 aria-labelledby="docinfo-tab"
                                 tabindex="0">
                                <table class="table table-sm table-borderless">
                                    







<tbody class="meta align-top ">
    <tr>
        <th scope="row">Document</th>
        <th scope="row">Document type</th>
        <td class="edit"></td>
        <td>
            







    <div>This is an older version of an Internet-Draft whose latest revision state is "Replaced".</div>

            
            
            
                




    

            
        </td>
    </tr>
    
        <tr>
            <td></td>
            <th scope="row">Select version</th>
            <td class="edit"></td>
            <td>
                



    <ul class="revision-list pagination pagination-sm text-center flex-wrap my-0">
        
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-00"
                        >
                            00
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-01"
                        rel="nofollow">
                            01
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-02"
                        rel="nofollow">
                            02
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-03"
                        rel="nofollow">
                            03
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-04"
                        rel="nofollow">
                            04
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-05"
                        rel="nofollow">
                            05
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-06"
                        rel="nofollow">
                            06
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-07"
                        rel="nofollow">
                            07
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-08"
                        rel="nofollow">
                            08
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-09"
                        rel="nofollow">
                            09
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-10"
                        rel="nofollow">
                            10
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-11"
                        rel="nofollow">
                            11
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-12"
                        rel="nofollow">
                            12
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-13"
                        rel="nofollow">
                            13
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-14"
                        rel="nofollow">
                            14
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-15"
                        rel="nofollow">
                            15
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-16"
                        rel="nofollow">
                            16
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-17"
                        rel="nofollow">
                            17
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-18"
                        rel="nofollow">
                            18
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-19"
                        rel="nofollow">
                            19
                        </a>
                    </li>
                
            
                 
                    <li class="page-item active">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-20"
                        rel="nofollow">
                            20
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-21"
                        rel="nofollow">
                            21
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-22"
                        rel="nofollow">
                            22
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-23"
                        rel="nofollow">
                            23
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-24"
                        rel="nofollow">
                            24
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-25"
                        rel="nofollow">
                            25
                        </a>
                    </li>
                
            
                 
                    <li class="page-item ">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-idr-segment-routing-te-policy-26"
                        >
                            26
                        </a>
                    </li>
                
            
            
        
    </ul>

            </td>
        </tr>
        
            <tr>
                <td></td>
                <th scope="row">Compare versions</th>
                <td class="edit"></td>
                <td>
                    



<form class="form-horizontal diff-form"
      action="https://author-tools.ietf.org/iddiff"
      method="get"
      target="_blank">

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="From revision"
                    name="url1">
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-26">
                        draft-ietf-idr-segment-routing-te-policy-26
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-25" selected>
                        draft-ietf-idr-segment-routing-te-policy-25
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-24">
                        draft-ietf-idr-segment-routing-te-policy-24
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-23">
                        draft-ietf-idr-segment-routing-te-policy-23
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-22">
                        draft-ietf-idr-segment-routing-te-policy-22
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-21">
                        draft-ietf-idr-segment-routing-te-policy-21
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-20">
                        draft-ietf-idr-segment-routing-te-policy-20
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-19">
                        draft-ietf-idr-segment-routing-te-policy-19
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-18">
                        draft-ietf-idr-segment-routing-te-policy-18
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-17">
                        draft-ietf-idr-segment-routing-te-policy-17
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-16">
                        draft-ietf-idr-segment-routing-te-policy-16
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-15">
                        draft-ietf-idr-segment-routing-te-policy-15
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-14">
                        draft-ietf-idr-segment-routing-te-policy-14
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-13">
                        draft-ietf-idr-segment-routing-te-policy-13
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-12">
                        draft-ietf-idr-segment-routing-te-policy-12
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-11">
                        draft-ietf-idr-segment-routing-te-policy-11
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-10">
                        draft-ietf-idr-segment-routing-te-policy-10
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-09">
                        draft-ietf-idr-segment-routing-te-policy-09
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-08">
                        draft-ietf-idr-segment-routing-te-policy-08
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-07">
                        draft-ietf-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-06">
                        draft-ietf-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-05">
                        draft-ietf-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-04">
                        draft-ietf-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-03">
                        draft-ietf-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-02">
                        draft-ietf-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-01">
                        draft-ietf-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-00">
                        draft-ietf-idr-segment-routing-te-policy-00
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-07">
                        draft-previdi-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-06">
                        draft-previdi-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-05">
                        draft-previdi-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-04">
                        draft-previdi-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-03">
                        draft-previdi-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-02">
                        draft-previdi-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-01">
                        draft-previdi-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-00">
                        draft-previdi-idr-segment-routing-te-policy-00
                        
                    </option>
                
                
            </select>

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="To revision"
                    name="url2">
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-26" selected>
                        draft-ietf-idr-segment-routing-te-policy-26
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-25">
                        draft-ietf-idr-segment-routing-te-policy-25
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-24">
                        draft-ietf-idr-segment-routing-te-policy-24
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-23">
                        draft-ietf-idr-segment-routing-te-policy-23
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-22">
                        draft-ietf-idr-segment-routing-te-policy-22
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-21">
                        draft-ietf-idr-segment-routing-te-policy-21
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-20">
                        draft-ietf-idr-segment-routing-te-policy-20
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-19">
                        draft-ietf-idr-segment-routing-te-policy-19
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-18">
                        draft-ietf-idr-segment-routing-te-policy-18
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-17">
                        draft-ietf-idr-segment-routing-te-policy-17
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-16">
                        draft-ietf-idr-segment-routing-te-policy-16
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-15">
                        draft-ietf-idr-segment-routing-te-policy-15
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-14">
                        draft-ietf-idr-segment-routing-te-policy-14
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-13">
                        draft-ietf-idr-segment-routing-te-policy-13
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-12">
                        draft-ietf-idr-segment-routing-te-policy-12
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-11">
                        draft-ietf-idr-segment-routing-te-policy-11
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-10">
                        draft-ietf-idr-segment-routing-te-policy-10
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-09">
                        draft-ietf-idr-segment-routing-te-policy-09
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-08">
                        draft-ietf-idr-segment-routing-te-policy-08
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-07">
                        draft-ietf-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-06">
                        draft-ietf-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-05">
                        draft-ietf-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-04">
                        draft-ietf-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-03">
                        draft-ietf-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-02">
                        draft-ietf-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-01">
                        draft-ietf-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-ietf-idr-segment-routing-te-policy-00">
                        draft-ietf-idr-segment-routing-te-policy-00
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-07">
                        draft-previdi-idr-segment-routing-te-policy-07
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-06">
                        draft-previdi-idr-segment-routing-te-policy-06
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-05">
                        draft-previdi-idr-segment-routing-te-policy-05
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-04">
                        draft-previdi-idr-segment-routing-te-policy-04
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-03">
                        draft-previdi-idr-segment-routing-te-policy-03
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-02">
                        draft-previdi-idr-segment-routing-te-policy-02
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-01">
                        draft-previdi-idr-segment-routing-te-policy-01
                        
                    </option>
                
                    <option value="draft-previdi-idr-segment-routing-te-policy-00">
                        draft-previdi-idr-segment-routing-te-policy-00
                        
                    </option>
                
                
            </select>

            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--html"
                    name="difftype">
                Side-by-side
            </button>
            
            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--hwdiff"
                    name="difftype">
                Inline
            </button>

</form>
                </td>
            </tr>
        
    
    <tr>
        <td></td>
        <th scope="row">Authors</th>
        <td class="edit">
            
        </td>
        <td>
            
            
                <span ><a 
           title="Datatracker profile of Stefano Previdi"
            href="/person/stefano.previdi@gmail.com" >Stefano Previdi</a> <a 
               href="mailto:stefano.previdi%40gmail.com"
               aria-label="Compose email to stefano.previdi@gmail.com"
               title="Compose email to stefano.previdi@gmail.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Clarence Filsfils"
            href="/person/cfilsfil@cisco.com" >Clarence Filsfils</a> <a 
               href="mailto:cfilsfil%40cisco.com"
               aria-label="Compose email to cfilsfil@cisco.com"
               title="Compose email to cfilsfil@cisco.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Ketan Talaulikar"
            href="/person/ketant.ietf@gmail.com" >Ketan Talaulikar</a> <a 
               href="mailto:ketant.ietf%40gmail.com"
               aria-label="Compose email to ketant.ietf@gmail.com"
               title="Compose email to ketant.ietf@gmail.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Paul Mattes"
            href="/person/pamattes@microsoft.com" >Paul Mattes</a> <a 
               href="mailto:pamattes%40microsoft.com"
               aria-label="Compose email to pamattes@microsoft.com"
               title="Compose email to pamattes@microsoft.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Dhanendra Jain"
            href="/person/dhanendra.ietf@gmail.com" >Dhanendra Jain</a> <a 
               href="mailto:dhanendra.ietf%40gmail.com"
               aria-label="Compose email to dhanendra.ietf@gmail.com"
               title="Compose email to dhanendra.ietf@gmail.com">
                <i class="bi bi-envelope"></i></a></span>,
            
                <span ><a 
           title="Datatracker profile of Steven Lin"
            href="/person/stevenlin@google.com" >Steven Lin</a> <a 
               href="mailto:stevenlin%40google.com"
               aria-label="Compose email to stevenlin@google.com"
               title="Compose email to stevenlin@google.com">
                <i class="bi bi-envelope"></i></a></span>
            
            
        </td>
    </tr>
    
    
        
            <tr>
                <td></td>
                <th scope="row">Replaces</th>
                <td class="edit">
                    
                </td>
                <td>
                    
                        
                            <a href="/doc/html/draft-previdi-idr-segment-routing-te-policy" title="Advertising Segment Routing Policies in BGP">draft-previdi-idr-segment-routing-te-policy</a>
                        
                    
                </td>
            </tr>
        
        
            <tr>
                <td></td>
                <th scope="row">
                    Replaced by
                </th>
                <td class="edit">
                </td>
                <td>
                    
                        <a href="/doc/html/draft-ietf-idr-sr-policy-safi" title="Advertising Segment Routing Policies in BGP">draft-ietf-idr-sr-policy-safi</a><br><a href="/doc/html/draft-ietf-idr-bgp-sr-segtypes-ext" title="Segment Routing Segment Types Extensions for BGP SR Policy">draft-ietf-idr-bgp-sr-segtypes-ext</a>
                    
                </td>
            </tr>
        
        
    
    <tr>
        <td></td>
        <th scope="row">
            RFC stream
        </th>
        <td class="edit">
            
        </td>
        <td >
            
                
                
                    
                        



<img alt="IETF Logo"
     class="d-lm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor-white.svg"
        
     
     >

<img alt="IETF Logo"
     class="d-dm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.35.0/ietf/images/ietf-logo-nor.svg"
        
     
     >
                    
                
                
            
        </td>
    </tr>
    
    <tr>
        <td></td>
        <th scope="row">
            Other formats
        </th>
        <td class="edit">
        </td>
        <td>
            
                
    <div class="buttonlist">
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="https://www.ietf.org/archive/id/draft-ietf-idr-segment-routing-te-policy-20.txt">
            
                <i class="bi bi-file-text"></i> txt
            
        </a>
        
    
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="/doc/draft-ietf-idr-segment-routing-te-policy/20/bibtex/">
            
                <i class="bi bi-file-ruled"></i> bibtex
            
        </a>
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="/doc/bibxml3/draft-ietf-idr-segment-routing-te-policy-20.xml">
            
                <i class="bi bi-file-code"></i> bibxml
            
        </a>
        
    
</div>

            
        </td>
    </tr>
    
    
        
            <tr>
                <td>
                </td>
                <th scope="row">
                    Additional resources
                </th>
                <td class="edit">
                    
                </td>
                <td>
                    
                        
                        
                            
                                <a href="https://mailarchive.ietf.org/arch/browse/idr/?q=draft-ietf-idr-segment-routing-te-policy">
                                    Mailing list discussion
                                </a>
                            
                        
                    
                </td>
            </tr>
        
    
</tbody>
                                </table>
                                <a class="btn btn-sm btn-warning mb-3"
                                target="_blank"
                                href="https://github.com/ietf-tools/datatracker/issues/new/choose">
                                    Report a datatracker bug
                                    <i class="bi bi-bug"></i>
                                </a>
                            </div>
                            <div class="tab-pane mb-5"
                                 id="toc-tab-pane"
                                 role="tabpanel"
                                 aria-labelledby="toc-tab"
                                 tabindex="0">
                                <nav class="nav nav-pills flex-column small" id="toc-nav">
                                </nav>
                            </div>
                            <div class="tab-pane mb-5 small"
                                 id="pref-tab-pane"
                                 role="tabpanel"
                                 aria-labelledby="pref-tab"
                                 tabindex="0">
                                <label class="form-label fw-bold mb-2">Show sidebar by default</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="sidebar" id="on-radio">
                                    <label class="btn btn-outline-primary" for="on-radio">Yes</label>
                                    <input type="radio" class="btn-check" name="sidebar" id="off-radio">
                                    <label class="btn btn-outline-primary" for="off-radio">No</label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2">Tab to show by default</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="deftab" id="docinfo-radio">
                                    <label class="btn btn-outline-primary" for="docinfo-radio">
                                        <i class="bi bi-info-circle me-1"></i>Info
                                    </label>
                                    <input type="radio" class="btn-check" name="deftab" id="toc-radio">
                                    <label class="btn btn-outline-primary" for="toc-radio">
                                        <i class="bi bi-list-ol me-1"></i>Contents
                                    </label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2">HTMLization configuration</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="htmlconf" id="txt-radio">
                                    <label class="btn btn-outline-primary" for="txt-radio" title="This is the traditional HTMLization method.">
                                        <i class="bi bi-badge-sd me-1"></i>HTMLize the plaintext
                                    </label>
                                    <input type="radio" class="btn-check" name="htmlconf" id="html-radio">
                                    <label class="btn btn-outline-primary" for="html-radio" title="This is the modern HTMLization method.">
                                        <i class="bi bi-badge-hd me-1"></i>Plaintextify the HTML
                                    </label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2" for="ptsize">Maximum font size</label>
                                <input type="range" class="form-range" min="7" max="16" id="ptsize" oninput="ptdemo.value = ptsize.value">
                                <label class="form-label fw-bold mt-4 mb-2">Page dependencies</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="pagedeps" id="inline-radio">
                                    <label class="btn btn-outline-primary" for="inline-radio" title="Generate larger, standalone web pages that do not require network access to render.">
                                        <i class="bi bi-box me-1"></i>Inline
                                    </label>
                                    <input type="radio" class="btn-check" name="pagedeps" id="reference-radio">
                                    <label class="btn btn-outline-primary" for="reference-radio" title="Generate regular web pages that require network access to render.">
                                        <i class="bi bi-link-45deg me-1"></i>Reference
                                    </label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2">Citation links</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="reflinks" id="refsection-radio">
                                    <label class="btn btn-outline-primary" for="refsection-radio" title="Citation links go to the reference section.">
                                        <i class="bi bi-arrow-clockwise"></i> Go to reference section
                                    </label>
                                    <input type="radio" class="btn-check" name="reflinks" id="citation-radio">
                                    <label class="btn btn-outline-primary" for="citation-radio" title="Citation links go directly to the cited document.">
                                        <i class="bi bi-link-45deg me-1"></i>Go to linked document
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
<script type="text/javascript">
  var _paq = window._paq || [];
  
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.ietf.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', 7]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//analytics.ietf.org/piwik.php?idsite=7" style="border:0;" alt="" /></p></noscript>

    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'90f9880af932fd48',t:'MTczOTE2MzU4My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
